{"remainingRequest":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\other\\Process.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\other\\Process.vue","mtime":1594003824563},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getProcessPage, delProcess } from \"../../api/other/process.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n    data() {\n        return {\n            query: {\n                current: 1,\n                size: 10\n            },\n            listType: '2',\n            dialogVisible: false,\n            pages: 0,\n            total: 0,\n            listLoading: false,\n            list: [],\n            processImageUrl: null,\n        };\n    },\n    created() {\n        this.getProcessPage();\n    },\n    computed: {\n        ...mapGetters([\"permissions\"])\n    },\n    methods: {\n        getProcessPage() {\n            this.loading = true;\n            getProcessPage(this.query)\n                .then(response => {\n                    this.loading = false;\n                    //console.log(response.data.data)\n                    this.total = response.data.data.total;\n                    this.query.current = response.data.data.current;\n                    this.query.size = response.data.data.size;\n                    this.list = response.data.data.records;\n                })\n                .catch(() => {\n                    this.loading = false;\n                });\n        },\n        handleSizeChange(val) {\n            this.query.size = val;\n            this.getProcessPage();\n        },\n        handleCurrentChange(val) {\n            this.query.current = val;\n            this.getProcessPage();\n        },\n        handleImage(row) {\n            this.dialogVisible = true;\n            //this.processImageUrl = location.host + \"/act/process/resource/\"+row.deploymentId+\"/\"+row.processonDefinitionId+\"/image\"\n            this.processImageUrl = \"http://oa.dreamdeck.cn/act/process/resource/\"+row.deploymentId+\"/\"+row.processonDefinitionId+\"/image\"\n        },\n        // 删除\n        handleDel(index, row) {\n            if (row.id) {\n                this.$confirm(\"确认删除 \" + row.name + \" 吗?\", \"提示\", {\n                    type: \"warning\"\n                }).then(() => {\n                    delProcess(row.id).then(res => {\n                        console.log(res)\n                        this.getModelPage();\n                    });\n                });\n            }\n        },\n        openList(val) {\n            if (val == 1) {\n                this.$router.push({\n                    path: '/other/act'\n                });\n            }\n        },\n    },\n    mounted() {}\n};\n",null]}