{"remainingRequest":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\apply\\invoice\\Info.vue?vue&type=template&id=16371c63&scoped=true&","dependencies":[{"path":"D:\\DDMS\\src\\views\\apply\\invoice\\Info.vue","mtime":1595215651069},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n    <el-button @click=\"backHistory\" class=\"back\">返回</el-button>\n\n    <el-row :gutter=\"20\">\n        <el-col :xs=\"{ span: 24 }\" :md=\"{ span: 12 }\">\n            <div class=\"title\" style=\"margin-bottom:20px;\">\n                <p class=\"name\">报销申请单</p>\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" v-if=\"invoiceInfo\">\n                    <tr>\n                        <td>姓名</td>\n                        <td colspan=\"3\">{{ invoiceInfo.applyUserName }}</td>\n                    </tr>\n                    <tr>\n                        <td>项目名称</td>\n                        <td colspan=\"3\" v-if=\"invoiceInfo.alias != null\">{{ invoiceInfo.alias }}</td>\n                        <td colspan=\"3\" v-else>与项目无关</td>\n                    </tr>\n                    <tr>\n                        <td width=\"100\">总分类</td>\n                        <td>{{ invoiceInfo.type1Name }}</td>\n                        <!-- <td v-if=\"invoiceInfo.classify == 7\">办公用品</td>\n                        <td v-if=\"invoiceInfo.classify == 8\">固定资产</td>\n                        <td v-if=\"invoiceInfo.classify == 9\">管理费用</td>\n                        <td v-if=\"invoiceInfo.classify == 10\">人员补助</td>\n                        <td v-if=\"invoiceInfo.classify == 11\">项目报销</td> -->\n                        <td width=\"100\">明细分类</td>\n                        <td>{{ invoiceInfo.type3Name }}</td>\n                        <!-- <td v-if=\"invoiceInfo.classify == 7 && invoiceInfo.type == 1\">办公文具</td>\n                        <td v-if=\"invoiceInfo.classify == 7 && invoiceInfo.type == 2\">办公耗材</td>\n                        <td v-if=\"invoiceInfo.classify == 7 && invoiceInfo.type == 3\">日杂百货</td>\n                        <td v-if=\"invoiceInfo.classify == 7 && invoiceInfo.type == 4\">财务用品</td>\n                        <td v-if=\"invoiceInfo.classify == 7 && invoiceInfo.type == 5\">电子设备及工具</td>\n\n                        <td v-if=\"invoiceInfo.classify == 8 && invoiceInfo.type == 1\">办公设备</td>\n                        <td v-if=\"invoiceInfo.classify == 8 && invoiceInfo.type == 2\">办公家具</td>\n\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 1\">市内交通</td>\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 2\">办公费用</td>\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 3\">运输</td>\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 4\">业务招待费</td>\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 5\">会议费</td>\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 6\">差旅费</td>\n                        <td v-if=\"invoiceInfo.classify == 9 && invoiceInfo.type == 7\">福利费</td>\n\n                        <td v-if=\"invoiceInfo.classify == 10 && invoiceInfo.type == 1\">住房补助</td>\n\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 1\">差旅费</td>\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 2\">业务招待费</td>\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 3\">外协</td>\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 4\">设备采购</td>\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 5\">办公费</td>\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 6\">市内交通</td>\n                        <td v-if=\"invoiceInfo.classify == 11 && invoiceInfo.type == 7\">会议费</td> -->\n                    </tr>\n                    <tr>\n                        <td>是否找票</td>\n                        <td colspan=\"3\" v-if=\"invoiceInfo.isFull == 0\">否</td>\n                        <td colspan=\"3\" v-else-if=\"invoiceInfo.isFull == 1\">是</td>\n                    </tr>\n                    <tr>\n                        <td>报销支付描述</td>\n                        <td colspan=\"3\">{{ invoiceInfo.payDesc }}</td>\n                    </tr>\n                    <tr v-if=\"(invoiceInfo.type1 != 10 && invoiceInfo.type1 != 22) && invoiceInfo.isFull == 1\">\n                        <td>支付时间</td>\n                        <td colspan=\"3\">{{ invoiceInfo.payTimeCh }}</td>\n                    </tr>\n                    <tr v-if=\"invoiceInfo.isFull == 1 && (invoiceInfo.type1 != 10 && invoiceInfo.type1 != 22)\">\n                        <td>支付金额</td>\n                        <td>{{ invoiceInfo.payPriceYuan }} 元</td>\n                        <td>支付截图数量</td>\n                        <td v-if=\"invoiceInfo.payImgNum != null\">{{ invoiceInfo.payImgNum }} 张</td>\n                        <td v-else>无</td>\n                    </tr>\n                    <tr v-if=\"invoiceInfo.isFull == 1 && (invoiceInfo.type1 != 10 && invoiceInfo.type1 != 22)\">\n                        <td>支付截图</td>\n                        <td colspan=\"3\" v-if=\"invoiceInfo.payImg\">\n                            <!-- <el-image v-for=\"(url, index) in urls1\" :key=\"url\" :src=\"url\" lazy @click=\"onPreview1(index)\"></el-image> -->\n                            <el-image v-for=\"(img, index) in urls1\" :key=\"img\" :src=\"img\" lazy :preview-src-list=\"onPreview1(index)\"></el-image>\n                            <!-- <el-image-viewer v-if=\"showViewer\" :on-close=\"closeViewer\" :url-list=\"[url]\"></el-image-viewer> -->\n                        </td>\n                        <td colspan=\"3\" v-else>无</td>\n                    </tr>\n                    <tr>\n                        <td>发票描述</td>\n                        <td colspan=\"3\">{{ invoiceInfo.invoiceDesc }}</td>\n                    </tr>\n                    <tr>\n                        <td>发票时间</td>\n                        <td colspan=\"3\">{{ invoiceInfo.invoiceTimeCh }}</td>\n                    </tr>\n                    <tr>\n                        <td>发票金额</td>\n                        <td>{{ invoiceInfo.invoicePriceYuan }} 元</td>\n                        <td>发票数量</td>\n                        <td>{{ invoiceInfo.invoiceImgNum }} 张</td>\n                    </tr>\n                    <tr>\n                        <td>发票图片</td>\n                        <td colspan=\"3\" v-if=\"invoiceInfo.invoiceImg\">\n                            <el-image v-for=\"(img, index) in urls2\" :key=\"img\" :src=\"img\" lazy :preview-src-list=\"onPreview2(index)\"></el-image>\n                            <!-- <el-image-viewer v-if=\"showViewer\" :on-close=\"closeViewer\" :url-list=\"[url]\"></el-image-viewer> -->\n                        </td>\n                        <td colspan=\"3\" v-else>无</td>\n                    </tr>\n                    <tr>\n                        <td>发票代码</td>\n                        <td colspan=\"3\">无</td>\n                    </tr>\n                    <tr>\n                        <td>状态</td>\n                        <td colspan=\"3\">\n                            <el-tag v-if=\"invoiceInfo.status == 0\" type=\"warning\">审批中</el-tag>\n                            <el-tag v-else-if=\"invoiceInfo.status == 1\" type=\"success\">已同意</el-tag>\n                            <el-tag v-else-if=\"invoiceInfo.status == 2\" type=\"danger\">已拒绝</el-tag>\n\n                            <el-tag v-if=\"invoiceInfo.isAffirm == 1\" type=\"success\">已确认</el-tag>\n                            <el-tag v-else-if=\"invoiceInfo.isAffirm == 0\" type=\"danger\">未确认</el-tag>\n\n                            &nbsp;&nbsp;\n                            <el-button\n                                size=\"mini\"\n                                type=\"danger\"\n                                @click.native=\"handleModalAffirm(invoiceInfo)\"\n                                v-if=\"invoiceInfo.status == 1 && invoiceInfo.isAffirm == 0 && deptId == '7100'\"\n                            >\n                                确认\n                            </el-button>\n                        </td>\n                    </tr>\n                    <tr v-if=\"RefuseInfo.length == 0\">\n                        <td>审批历史</td>\n                        <td colspan=\"3\">\n                            <el-tag type=\"warning\">第{{ RefuseInfo.length + 1 }}次审批</el-tag>\n                        </td>\n                    </tr>\n                    <tr v-else v-for=\"(item, index) in RefuseInfo\" :key=\"index\">\n                        <td v-if=\"index == 0\" :rowspan=\"RefuseInfo.length\">拒绝历史</td>\n                        <td colspan=\"3\" style=\"height: 100px;\">\n                            <div style=\"color: #65CEA7;margin-top: 22px;\">\n                                {{ item.checkUserName }}\n                                <i class=\"el-icon-time\" style=\"color: #000;margin-left: 10px;margin-right: 5px\" v-if=\"item.check > 0\"></i>\n                                <span style=\"color: #000\" v-if=\"item.check > 0\">{{ item.updateTime }}</span>\n                            </div>\n                            <div style=\"color: #000000;margin-top: 15px;font-size: 12px\">\n                                <el-tag type=\"warning\">第{{ index + 1 }}次审批</el-tag>\n                                审批意见：{{ item.summary }}\n                            </div>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div><p class=\"name\">审批结果</p></div>\n            <div class=\"result\" v-for=\"approver in approverList\">\n                <el-avatar size=\"medium\" :src=\"approver.checkUserAvatar\" class=\"avatar\"></el-avatar>\n                <span class=\"username\" style=\"color: #65CEA7;\">\n                    {{ approver.checkUserName }}\n                    <i class=\"el-icon-time\" style=\"color: #000;margin-left: 10px;margin-right: 5px\" v-if=\"approver.check > 0\"></i>\n                    <span style=\"color: #000\" v-if=\"approver.check > 0\">{{ approver.updateTime }}</span>\n                </span>\n                <span style=\"color: #000000;margin-top: 45px;position: absolute;font-size: 12px\">审批意见：{{ approver.summary }}</span>\n                <div>\n                    <span v-if=\"approver.check == 0 && approver.isBeing == 1\">\n                        <el-tag class=\"checkSty\" type=\"warning\">\n                            <i class=\"el-icon-loading\" style=\"margin-right:5px\"></i>\n                            审批中\n                        </el-tag>\n                    </span>\n                    <span v-if=\"approver.check == 0 && approver.isBeing == 0\">\n                        <el-tag class=\"checkSty\" type=\"\">\n                            <i class=\"el-icon-loading\" style=\"margin-right:5px\"></i>\n                            待审批\n                        </el-tag>\n                    </span>\n                    <span v-if=\"approver.check == 1\">\n                        <el-tag class=\"checkSty\" type=\"success\">\n                            <i class=\"el-icon-success\" style=\"margin-right:5px\"></i>\n                            已同意\n                        </el-tag>\n                    </span>\n                    <span v-if=\"approver.check == 2\">\n                        <el-tag class=\"checkSty\" type=\"danger\">\n                            <i class=\"el-icon-error\" style=\"margin-right:5px\"></i>\n                            已拒绝\n                        </el-tag>\n                    </span>\n                </div>\n            </div>\n\n            <div v-if=\"showCheck\">\n                <div class=\"title left\"><p class=\"name\">审批</p></div>\n                <el-alert title=\"审批流程不可逆转\" type=\"warning\"></el-alert>\n                <el-form :model=\"formData\" :rules=\"rules\" ref=\"formData\" label-width=\"100px\" class=\"demo-ruleForm res\" style=\"width: 100%\">\n                    <el-radio-group v-model=\"formData.check\" @change=\"selectChcek\" style=\"margin-top: 10px;margin-left: 20px\">\n                        <el-radio label=\"1\">同意</el-radio>\n                        <el-radio label=\"2\">拒绝</el-radio>\n                    </el-radio-group>\n                    <el-form-item prop=\"summary\" style=\"margin-left: -100px;margin-top: 10px\">\n                        <el-input type=\"textarea\" v-model=\"formData.summary\" placeholder=\"请填写原因\" maxlength=\"30\" show-word-limit></el-input>\n                    </el-form-item>\n                    <el-form-item><el-button type=\"success\" class=\"submit\" @click=\"onSubmit\" :loading=\"saving\">提交</el-button></el-form-item>\n                </el-form>\n            </div>\n        </el-col>\n        <el-col :xs=\"{ span: 24 }\" :md=\"{ span: 12 }\">\n            <el-button class=\"print\" style=\"\" @click=\"print\" v-if=\"invoiceInfo.status == 1 && formData.checkUserId == invoiceInfo.userId\">打印</el-button>\n            <div class=\"title\" id=\"printContent\" ref=\"print\">\n                <p class=\"name\" style=\"text-align: center\">费用报销单</p>\n                <div style=\"width: 90%;margin-left:3%;\">\n                    <span style=\"color: #1f2d3d;display: inline-block;padding: 10px 10px 10px 0px;float: left; width: 40%;\">\n                        单位:\n                        <span v-if=\"invoiceInfo.companyId == '2'\">北京甲板智慧科技有限公司</span>\n                        <span v-if=\"invoiceInfo.companyId == '3'\">北京甲板数字科技有限公司</span>\n                    </span>\n                    <span style=\"color: #1f2d3d;display: inline-block;padding: 10px 0;float: left; width: 30%;\">{{ invoiceInfo.invoiceTimeCh }}</span>\n                    <span style=\"color: #1f2d3d;display: inline-block;padding: 10px 10px;float: right;text-align: right; margin-right: -3%;width: 20%;\">\n                        第\n                        <span v-if=\"invoiceInfo.type1 == 22 || invoiceInfo.type1 == 10\" style=\"padding: 0 2px;\">2</span>\n                        <span v-else style=\"padding: 0 2px;\">1</span>\n                        号\n                    </span>\n                </div>\n                <table border=\"1\" cellspacing=\"0\" cellpadding=\"0\" v-if=\"invoiceInfo\" style=\"width: 90%;margin-left: 5%;\">\n                    <tr style=\"height: 110px;text-align: center\">\n                        <td width=\"200\">摘要</td>\n                        <td colspan=\"3\" style=\"text-align: left; padding: 0 10px;\">{{ invoiceInfo.invoiceDesc }}</td>\n                    </tr>\n                    <tr style=\"height: 110px;text-align: center\">\n                        <td width=\"200\">金额</td>\n                        <td colspan=\"3\" style=\"padding: 0 10px;\">\n                            <span style=\"float: left;margin-top: 30px;\">\n                                人民币(大写) :\n                                <u>{{ invoiceInfo.invoicePriceChYuan }}</u>\n                            </span>\n                            <div style=\"float: right;margin-top: 60px;margin-right: 10px;\">\n                                ￥\n                                <u>{{ invoiceInfo.invoicePriceYuan }}</u>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr style=\"height: 110px;text-align: center\">\n                        <td width=\"200\">附单据张数</td>\n                        <td width=\"400\" style=\"text-align: left; padding: 0 10px;\">{{ invoiceInfo.invoiceImgNum }}</td>\n                        <td width=\"200\">领款人签章</td>\n                        <td width=\"400\" style=\"text-align: left; padding: 0 10px;\">{{ applyUser }}</td>\n                    </tr>\n                </table>\n\n                <div style=\"display: flex;color: #000000;text-align:left;line-height: 60px;margin-left: 5%;\">\n                    <span style=\"flex:1;\">审批人：{{ checkUser1 }}</span>\n                    <span style=\"flex:1;\">审核：{{ checkUser2 }}</span>\n                    <span style=\"flex:1;\">证明或验收：{{ checkUser3 }}</span>\n                    <span style=\"flex:1;\">经手：{{ applyUser }}</span>\n                </div>\n                <div style=\"height: 1px;border-top: 1px dotted #000000;width: 90%;margin: 5% 5%;display: none\" id=\"line\"></div>\n                <div style=\"height: 440px;border: 1px solid #000000;width: 90%;margin: 5% 5%;display: none\" id=\"cont\">\n                    <h2 style=\"line-height: 440px;color: #000000;letter-spacing: 30px;text-align: center;\">发票粘贴处</h2>\n                </div>\n            </div>\n        </el-col>\n    </el-row>\n</div>\n",null]}