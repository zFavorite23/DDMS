{"remainingRequest":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\project\\Total.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\project\\Total.vue","mtime":1588235430075},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { adList, adSave, adDelete } from \"../../api/ad/ad\";\r\nimport Upload from \"../../components/File/Upload.vue\";\r\nconst formJson = {\r\n    ad_id: \"\",\r\n    title: \"\",\r\n    describe: \"\",\r\n    pic: \"\",\r\n    pic_url: \"\",\r\n    jump_type: \"\",\r\n    jump_url: \"\",\r\n    ios_url: \"\",\r\n    android_url: \"\",\r\n    wxa_appid: \"\",\r\n    channel_type: 0,\r\n    channel_list: [],\r\n    android_version_type: 0,\r\n    android_version_list: [],\r\n    ios_version_type: 0,\r\n    ios_version_list: [],\r\n    new_show_start_num: 0,\r\n    new_show_max_num: 0,\r\n    old_show_start_num: 0,\r\n    old_show_max_num: 0,\r\n    end_time: \"\",\r\n    event_name: \"\",\r\n    status: 1\r\n};\r\nexport default {\r\n    data() {\r\n        return {\r\n            query: {\r\n                title: \"\",\r\n                page: 1,\r\n                limit: 20\r\n            },\r\n            channelListInput: \"\",\r\n            androidVersionListInput: \"\",\r\n            iosVersionListInput: \"\",\r\n            list: [],\r\n            total: 0,\r\n            loading: true,\r\n            index: null,\r\n            formName: null,\r\n            formMap: {\r\n                add: \"新增\",\r\n                edit: \"编辑\"\r\n            },\r\n            formLoading: false,\r\n            formVisible: false,\r\n            formData: formJson,\r\n            formRules: {\r\n                title: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入广告标题\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                pic: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择封面图片\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                jump_type: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择跳转方式\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                jump_url: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入跳转链接\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                android_url: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入Android类名\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                ios_url: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入IOS类名\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                wxa_appid: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入小程序Appid\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                channel_list: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入至少一个渠道名单\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                android_version_list: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入至少一个Android版本名单\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                ios_version_list: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入至少一个iOS版本名单\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                status: [\r\n                    { required: true, message: \"请选择状态\", trigger: \"change\" }\r\n                ]\r\n            },\r\n            deleteLoading: false\r\n        };\r\n    },\r\n    components: {\r\n        Upload\r\n    },\r\n    methods: {\r\n        onReset() {\r\n            this.$router.push({\r\n                path: \"\"\r\n            });\r\n            this.query = {\r\n                title: \"\",\r\n                page: 1,\r\n                limit: 20\r\n            };\r\n            this.getList();\r\n        },\r\n        onSubmit() {\r\n            this.$router.push({\r\n                path: \"\",\r\n                query: this.query\r\n            });\r\n            this.getList();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.query.limit = val;\r\n            this.getList();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.query.page = val;\r\n            this.getList();\r\n        },\r\n        getList() {\r\n            this.loading = true;\r\n            adList(this.query)\r\n                .then(response => {\r\n                    this.loading = false;\r\n                    this.list = response.data.List || [];\r\n                    this.total = response.data.total || 0;\r\n                })\r\n                .catch(() => {\r\n                    this.loading = false;\r\n                    this.list = [];\r\n                    this.total = 0;\r\n                });\r\n        },\r\n        // 删除渠道\r\n        handleChannelListClose(index) {\r\n            console.log(index);\r\n            // 更改值\r\n            this.formData.channel_list.splice(index, 1);\r\n        },\r\n        // 添加渠道白名单\r\n        handleChannelListSubmit() {\r\n            // 更改值\r\n            if (\r\n                this.channelListInput &&\r\n                this.formData.channel_list.length < 15\r\n            ) {\r\n                let arr = this.channelListInput.split(\",\");\r\n                for (let i in arr) {\r\n                    if (\r\n                        arr[i] !== \"\" &&\r\n                        (this.formData.channel_list.length === 0 ||\r\n                            this.formData.channel_list.indexOf(arr[i]) < 0)\r\n                    ) {\r\n                        this.formData.channel_list.push(arr[i]);\r\n                    }\r\n                }\r\n                this.channelListInput = \"\";\r\n                this.$refs.channelListRef.focus();\r\n            }\r\n        },\r\n        // 删除Android版本\r\n        handleAndroidVersionListClose(index) {\r\n            // 更改值\r\n            this.formData.android_version_list.splice(index, 1);\r\n        },\r\n        // 添加Android版本\r\n        handleAndroidVersionListSubmit() {\r\n            // 更改值\r\n            if (\r\n                this.androidVersionListInput &&\r\n                this.formData.android_version_list.length < 15\r\n            ) {\r\n                let arr = this.androidVersionListInput.split(\",\");\r\n                for (let i in arr) {\r\n                    let avList = this.formData.android_version_list;\r\n                    if (\r\n                        arr[i] !== \"\" &&\r\n                        (avList.length === 0 || avList.indexOf(arr[i]) < 0)\r\n                    ) {\r\n                        this.formData.android_version_list.push(arr[i]);\r\n                    }\r\n                }\r\n                this.androidVersionListInput = \"\";\r\n                this.$refs.androidVersionListRef.focus();\r\n            }\r\n        },\r\n        // 删除Ios版本\r\n        handleIosVersionListClose(index) {\r\n            // 更改值\r\n            this.formData.ios_version_list.splice(index, 1);\r\n        },\r\n        // 添加Ios版本\r\n        handleIosVersionListSubmit() {\r\n            // 更改值\r\n            if (\r\n                this.iosVersionListInput &&\r\n                this.formData.ios_version_list.length < 15\r\n            ) {\r\n                let arr = this.iosVersionListInput.split(\",\");\r\n                for (let i in arr) {\r\n                    if (\r\n                        arr[i] !== \"\" &&\r\n                        (this.formData.ios_version_list.length === 0 ||\r\n                            this.formData.ios_version_list.indexOf(arr[i]) < 0)\r\n                    ) {\r\n                        this.formData.ios_version_list.push(arr[i]);\r\n                    }\r\n                }\r\n                this.iosVersionListInput = \"\";\r\n                this.$refs.iosVersionListRef.focus();\r\n            }\r\n        },\r\n        // 刷新表单\r\n        resetForm() {\r\n            if (this.$refs[\"dataForm\"]) {\r\n                // 清空字段\r\n                this.$refs[\"dataForm\"].resetFields();\r\n                // 清空验证信息表单\r\n                this.$refs[\"dataForm\"].clearValidate();\r\n            }\r\n        },\r\n        // 隐藏表单\r\n        hideForm() {\r\n            // 更改值\r\n            this.formVisible = !this.formVisible;\r\n            return true;\r\n        },\r\n        // 显示表单\r\n        handleForm(index, row) {\r\n            this.formVisible = true;\r\n            // 刷新表单\r\n            this.resetForm();\r\n            this.formData = JSON.parse(JSON.stringify(formJson));\r\n            if (row !== null) {\r\n                this.formData = Object.assign({}, row);\r\n            }\r\n            this.formName = \"add\";\r\n            if (index !== null) {\r\n                this.index = index;\r\n                this.formName = \"edit\";\r\n            }\r\n        },\r\n        formSubmit() {\r\n            this.$refs[\"dataForm\"].validate(valid => {\r\n                if (valid) {\r\n                    this.formLoading = true;\r\n                    let data = Object.assign({}, this.formData);\r\n                    adSave(data, this.formName)\r\n                        .then(response => {\r\n                            this.formLoading = false;\r\n                            if (response.code) {\r\n                                this.$message.error(response.message);\r\n                                return false;\r\n                            }\r\n                            this.$message.success(\"操作成功\");\r\n                            this.formVisible = false;\r\n                            if (this.formName === \"add\") {\r\n                                // 向头部添加数据\r\n                                data.ad_id = response.data.ad_id;\r\n                                this.list.unshift(data);\r\n                            } else {\r\n                                this.list.splice(this.index, 1, data);\r\n                            }\r\n                        })\r\n                        .catch(() => {\r\n                            this.formLoading = false;\r\n                        });\r\n                }\r\n            });\r\n        },\r\n        // 删除\r\n        handleDel(index, row) {\r\n            if (row.ad_id) {\r\n                this.$confirm(\"确认删除该记录吗?\", \"提示\", {\r\n                    type: \"warning\"\r\n                })\r\n                    .then(() => {\r\n                        let para = { ad_id: row.ad_id };\r\n                        this.deleteLoading = true;\r\n                        adDelete(para)\r\n                            .then(response => {\r\n                                this.deleteLoading = false;\r\n                                if (response.code) {\r\n                                    this.$message.error(response.message);\r\n                                    return false;\r\n                                }\r\n                                this.$message(\"删除成功\");\r\n                                // 刷新数据\r\n                                this.list.splice(index, 1);\r\n                            })\r\n                            .catch(() => {\r\n                                this.deleteLoading = false;\r\n                            });\r\n                    })\r\n                    .catch(() => {\r\n                        this.$message.info(\"取消删除\");\r\n                    });\r\n            }\r\n        },\r\n        onSelectPic(filePath, filePathUrl) {\r\n            this.formData.pic = filePath;\r\n            this.formData.pic_url = filePathUrl;\r\n        }\r\n    },\r\n    filters: {\r\n        statusFilterType(status) {\r\n            const statusMap = {\r\n                0: \"gray\",\r\n                1: \"success\"\r\n            };\r\n            return statusMap[status];\r\n        },\r\n        statusFilterName(status) {\r\n            const statusMap = {\r\n                0: \"禁用\",\r\n                1: \"正常\"\r\n            };\r\n            return statusMap[status];\r\n        }\r\n    },\r\n    mounted() {},\r\n    created() {\r\n        // 将参数拷贝进查询对象\r\n        let query = this.$route.query;\r\n        this.query = Object.assign(this.query, query);\r\n        this.query.limit = parseInt(this.query.limit);\r\n        // 加载表格数据\r\n        this.getList();\r\n    }\r\n};\r\n",{"version":3,"sources":["Total.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAweA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Total.vue","sourceRoot":"src/views/project","sourcesContent":["<template>\r\n    <div>\r\n        <el-form :inline=\"true\" :model=\"query\" class=\"query-form\" size=\"mini\">\r\n            <el-form-item class=\"query-form-item\">\r\n                <el-input\r\n                    v-model=\"query.title\"\r\n                    placeholder=\"广告标题\"\r\n                ></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button-group>\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        icon=\"el-icon-refresh\"\r\n                        @click=\"getList\"\r\n                    ></el-button>\r\n                    <el-button type=\"primary\" icon=\"search\" @click=\"onSubmit\"\r\n                        >查询</el-button\r\n                    >\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        @click.native=\"handleForm(null, null)\"\r\n                        >新增</el-button\r\n                    >\r\n                </el-button-group>\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-table v-loading=\"loading\" :data=\"list\" style=\"width: 100%;\">\r\n            <el-table-column label=\"ID\" prop=\"ad_id\" fixed> </el-table-column>\r\n            <el-table-column\r\n                label=\"标题\"\r\n                prop=\"title\"\r\n                with=\"300\"\r\n                :show-overflow-tooltip=\"true\"\r\n                fixed\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                label=\"描述\"\r\n                prop=\"describe\"\r\n                with=\"300\"\r\n                :show-overflow-tooltip=\"true\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column label=\"封面\" prop=\"pic_url\">\r\n                <template slot-scope=\"scope\">\r\n                    <img\r\n                        style=\"max-width: 200px;max-height: 150px;\"\r\n                        :src=\"scope.row.pic_url\"\r\n                    />\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"状态\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-tag :type=\"scope.row.status | statusFilterType\">{{\r\n                        scope.row.status | statusFilterName\r\n                    }}</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button\r\n                        type=\"text\"\r\n                        size=\"small\"\r\n                        @click.native=\"handleForm(scope.$index, scope.row)\"\r\n                        >编辑</el-button\r\n                    >\r\n                    <el-button\r\n                        type=\"text\"\r\n                        size=\"small\"\r\n                        @click.native=\"handleDel(scope.$index, scope.row)\"\r\n                        >删除</el-button\r\n                    >\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-pagination\r\n            :page-size=\"query.limit\"\r\n            @current-change=\"handleCurrentChange\"\r\n            layout=\"prev, pager, next\"\r\n            :total=\"total\"\r\n        >\r\n        </el-pagination>\r\n\r\n        <!--表单-->\r\n        <el-dialog\r\n            :title=\"formMap[formName]\"\r\n            :visible.sync=\"formVisible\"\r\n            :before-close=\"hideForm\"\r\n            width=\"85%\"\r\n            top=\"5vh\"\r\n        >\r\n            <el-form :model=\"formData\" :rules=\"formRules\" ref=\"dataForm\">\r\n                <el-form-item label=\"标题\" prop=\"title\">\r\n                    <el-input\r\n                        v-model=\"formData.title\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"封面图片（上传或填写网络地址）\" prop=\"pic\">\r\n                    <div>\r\n                        <el-input\r\n                            size=\"small\"\r\n                            v-model=\"formData.pic\"\r\n                            auto-complete=\"off\"\r\n                            placeholder=\"图片路径\"\r\n                        ></el-input>\r\n\r\n                        <upload\r\n                            ext=\"jpg,png,jpeg\"\r\n                            :size=\"716800\"\r\n                            @on-select=\"onSelectPic\"\r\n                        ></upload>\r\n                    </div>\r\n                    <div class=\"upload-img\" v-if=\"formData.pic_url\">\r\n                        <img\r\n                            :src=\"formData.pic_url\"\r\n                            style=\"max-width: 200px;max-height: 200px;\"\r\n                        />\r\n                    </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"描述\" prop=\"describe\">\r\n                    <el-input\r\n                        v-model=\"formData.describe\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"跳转方式\" prop=\"jump_type\">\r\n                    <el-radio-group v-model=\"formData.jump_type\">\r\n                        <el-radio :label=\"0\">web 网页</el-radio>\r\n                        <el-radio :label=\"1\">APP内跳转</el-radio>\r\n                        <el-radio :label=\"2\">小程序跳转</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n\r\n                <el-form-item\r\n                    label=\"URL链接（web网页和小程序时）\"\r\n                    prop=\"jump_url\"\r\n                    v-if=\"formData.jump_type === 0 || formData.jump_type === 2\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"formData.jump_url\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item\r\n                    label=\"IOS 类名（APP内跳转时）\"\r\n                    prop=\"ios_url\"\r\n                    v-if=\"formData.jump_type === 1\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"formData.ios_url\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item\r\n                    label=\"Android 类名（APP内跳转时）\"\r\n                    prop=\"android_url\"\r\n                    v-if=\"formData.jump_type === 1\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"formData.android_url\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item\r\n                    label=\"小程序的 appid（小程序跳转时）\"\r\n                    prop=\"wxa_appid\"\r\n                    v-if=\"formData.jump_type === 2\"\r\n                >\r\n                    <el-input\r\n                        v-model=\"formData.wxa_appid\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"开始时间\">\r\n                    <el-form-item\r\n                        prop=\"start_time\"\r\n                        style=\"display: inline-block;\"\r\n                    >\r\n                        <el-date-picker\r\n                            v-model=\"formData.start_time\"\r\n                            type=\"datetime\"\r\n                            size=\"mini\"\r\n                            placeholder=\"开始时间（默认不限制）\"\r\n                        >\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n                    -\r\n                    <el-form-item\r\n                        prop=\"end_time\"\r\n                        style=\"display: inline-block;\"\r\n                    >\r\n                        <el-date-picker\r\n                            v-model=\"formData.end_time\"\r\n                            type=\"datetime\"\r\n                            size=\"mini\"\r\n                            placeholder=\"结束时间（默认不限制）\"\r\n                        >\r\n                        </el-date-picker>\r\n                    </el-form-item>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"统计事件的名称\" prop=\"event_name\">\r\n                    <el-input\r\n                        v-model=\"formData.event_name\"\r\n                        auto-complete=\"off\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"状态\" prop=\"status\">\r\n                    <el-radio-group v-model=\"formData.status\">\r\n                        <el-radio :label=\"0\">禁用</el-radio>\r\n                        <el-radio :label=\"1\">正常</el-radio>\r\n                    </el-radio-group>\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                    <el-button\r\n                        style=\"float: right;\"\r\n                        type=\"primary\"\r\n                        @click.native=\"formSubmit()\"\r\n                        :loading=\"formLoading\"\r\n                        >提前提交</el-button\r\n                    >\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"新用户展示逻辑\">\r\n                    <div class=\"remove-list-box\">\r\n                        第几次展示\r\n                        <el-form-item\r\n                            prop=\"new_show_start_num\"\r\n                            style=\"display: inline-block;\"\r\n                        >\r\n                            <el-input-number\r\n                                v-model=\"formData.new_show_start_num\"\r\n                                :min=\"0\"\r\n                                controls-position=\"right\"\r\n                                size=\"mini\"\r\n                                label=\"第几次展示\"\r\n                            >\r\n                            </el-input-number>\r\n                        </el-form-item>\r\n                        - 展示最大次数\r\n                        <el-form-item\r\n                            prop=\"new_show_max_num\"\r\n                            style=\"display: inline-block;\"\r\n                        >\r\n                            <el-input-number\r\n                                v-model=\"formData.new_show_max_num\"\r\n                                :min=\"0\"\r\n                                controls-position=\"right\"\r\n                                size=\"mini\"\r\n                                label=\"展示最大次数\"\r\n                            >\r\n                            </el-input-number>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"老用户展示逻辑\">\r\n                    <div class=\"remove-list-box\">\r\n                        第几次展示\r\n                        <el-form-item\r\n                            prop=\"old_show_start_num\"\r\n                            style=\"display: inline-block;\"\r\n                        >\r\n                            <el-input-number\r\n                                v-model=\"formData.old_show_start_num\"\r\n                                :min=\"0\"\r\n                                controls-position=\"right\"\r\n                                size=\"mini\"\r\n                                label=\"第几次展示\"\r\n                            >\r\n                            </el-input-number>\r\n                        </el-form-item>\r\n                        - 展示最大次数\r\n                        <el-form-item\r\n                            prop=\"old_show_max_num\"\r\n                            style=\"display: inline-block;\"\r\n                        >\r\n                            <el-input-number\r\n                                v-model=\"formData.old_show_max_num\"\r\n                                :min=\"0\"\r\n                                controls-position=\"right\"\r\n                                size=\"mini\"\r\n                                label=\"展示最大次数\"\r\n                            >\r\n                            </el-input-number>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                    <span style=\"color:red;\"\r\n                        >以下内容（注意：不要输入空格和逗号，批量添加以英文逗号隔开）黑白名单用来控制屏蔽或者显示</span\r\n                    >\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"渠道名单\" required>\r\n                    <el-form-item prop=\"channel_type\">\r\n                        <el-radio-group v-model=\"formData.channel_type\">\r\n                            <el-radio :label=\"0\">不限制</el-radio>\r\n                            <el-radio :label=\"1\">白名单</el-radio>\r\n                            <el-radio :label=\"2\">黑名单</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                        prop=\"channel_list\"\r\n                        v-if=\"formData.channel_type !== 0\"\r\n                    >\r\n                        <div class=\"remove-list-box\">\r\n                            <div class=\"remove-list\">\r\n                                <div\r\n                                    class=\"remove-list-item\"\r\n                                    v-for=\"(item,\r\n                                    index) in formData.channel_list\"\r\n                                    :key=\"index\"\r\n                                >\r\n                                    {{ item }}\r\n                                    <i\r\n                                        class=\"el-icon-close remove-list-close\"\r\n                                        @click=\"handleChannelListClose(index)\"\r\n                                    ></i>\r\n                                </div>\r\n                            </div>\r\n                            <div\r\n                                v-show=\"formData.channel_list.length >= 15\"\r\n                                style=\"color: red;\"\r\n                            >\r\n                                到达最大次数，最大15个\r\n                            </div>\r\n                            <el-input\r\n                                size=\"mini\"\r\n                                v-model=\"channelListInput\"\r\n                                placeholder=\"输入渠道版本插入\"\r\n                                style=\"width: 190px;\"\r\n                                ref=\"channelListRef\"\r\n                                @keyup.enter.native=\"handleChannelListSubmit\"\r\n                                maxlength=\"12\"\r\n                            >\r\n                            </el-input>\r\n                            <el-button\r\n                                type=\"primary\"\r\n                                size=\"mini\"\r\n                                @click.native=\"handleChannelListSubmit()\"\r\n                                style=\"margin-left: 5px;\"\r\n                                >插入</el-button\r\n                            >\r\n                        </div>\r\n                    </el-form-item>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"Android版本名单\" required>\r\n                    <el-form-item prop=\"android_version_type\">\r\n                        <el-radio-group v-model=\"formData.android_version_type\">\r\n                            <el-radio :label=\"0\">不限制</el-radio>\r\n                            <el-radio :label=\"1\">白名单</el-radio>\r\n                            <el-radio :label=\"2\">黑名单</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                        prop=\"android_version_list\"\r\n                        v-if=\"formData.android_version_type !== 0\"\r\n                    >\r\n                        <div class=\"remove-list-box\">\r\n                            <div class=\"remove-list\">\r\n                                <div\r\n                                    class=\"remove-list-item\"\r\n                                    v-for=\"(item,\r\n                                    index) in formData.android_version_list\"\r\n                                    :key=\"index\"\r\n                                >\r\n                                    {{ item }}\r\n                                    <i\r\n                                        class=\"el-icon-close remove-list-close\"\r\n                                        @click=\"\r\n                                            handleAndroidVersionListClose(index)\r\n                                        \"\r\n                                    ></i>\r\n                                </div>\r\n                            </div>\r\n                            <div\r\n                                v-show=\"\r\n                                    formData.android_version_list.length >= 15\r\n                                \"\r\n                                style=\"color: red;\"\r\n                            >\r\n                                到达最大次数，最大15个\r\n                            </div>\r\n                            <el-input\r\n                                size=\"mini\"\r\n                                v-model=\"androidVersionListInput\"\r\n                                placeholder=\"输入Android版本插入\"\r\n                                style=\"width: 190px;\"\r\n                                ref=\"androidVersionListRef\"\r\n                                @keyup.enter.native=\"\r\n                                    handleAndroidVersionListSubmit\r\n                                \"\r\n                                maxlength=\"12\"\r\n                            >\r\n                            </el-input>\r\n                            <el-button\r\n                                type=\"primary\"\r\n                                size=\"mini\"\r\n                                @click.native=\"handleAndroidVersionListSubmit()\"\r\n                                style=\"margin-left: 5px;\"\r\n                                >插入</el-button\r\n                            >\r\n                        </div>\r\n                    </el-form-item>\r\n                </el-form-item>\r\n\r\n                <el-form-item label=\"iOS版本名单\" required>\r\n                    <el-form-item prop=\"ios_version_type\">\r\n                        <el-radio-group v-model=\"formData.ios_version_type\">\r\n                            <el-radio :label=\"0\">不限制</el-radio>\r\n                            <el-radio :label=\"1\">白名单</el-radio>\r\n                            <el-radio :label=\"2\">黑名单</el-radio>\r\n                        </el-radio-group>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                        prop=\"ios_version_list\"\r\n                        v-if=\"formData.ios_version_type !== 0\"\r\n                    >\r\n                        <div class=\"remove-list-box\">\r\n                            <div class=\"remove-list\">\r\n                                <div\r\n                                    class=\"remove-list-item\"\r\n                                    v-for=\"(item,\r\n                                    index) in formData.ios_version_list\"\r\n                                    :key=\"index\"\r\n                                >\r\n                                    {{ item }}\r\n                                    <i\r\n                                        class=\"el-icon-close remove-list-close\"\r\n                                        @click=\"\r\n                                            handleIosVersionListClose(index)\r\n                                        \"\r\n                                    ></i>\r\n                                </div>\r\n                            </div>\r\n                            <div\r\n                                v-show=\"formData.ios_version_list.length >= 15\"\r\n                                style=\"color: red;\"\r\n                            >\r\n                                到达最大次数，最大15个\r\n                            </div>\r\n                            <el-input\r\n                                size=\"mini\"\r\n                                v-model=\"iosVersionListInput\"\r\n                                placeholder=\"输入iOS版本插入\"\r\n                                style=\"width: 190px;\"\r\n                                ref=\"iosVersionListRef\"\r\n                                @keyup.enter.native=\"handleIosVersionListSubmit\"\r\n                                maxlength=\"12\"\r\n                            >\r\n                            </el-input>\r\n                            <el-button\r\n                                type=\"primary\"\r\n                                size=\"mini\"\r\n                                @click.native=\"handleIosVersionListSubmit()\"\r\n                                style=\"margin-left: 5px;\"\r\n                                >插入</el-button\r\n                            >\r\n                        </div>\r\n                    </el-form-item>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click.native=\"hideForm\">取消</el-button>\r\n                <el-button\r\n                    type=\"primary\"\r\n                    @click.native=\"formSubmit()\"\r\n                    :loading=\"formLoading\"\r\n                    >提交</el-button\r\n                >\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { adList, adSave, adDelete } from \"../../api/ad/ad\";\r\nimport Upload from \"../../components/File/Upload.vue\";\r\nconst formJson = {\r\n    ad_id: \"\",\r\n    title: \"\",\r\n    describe: \"\",\r\n    pic: \"\",\r\n    pic_url: \"\",\r\n    jump_type: \"\",\r\n    jump_url: \"\",\r\n    ios_url: \"\",\r\n    android_url: \"\",\r\n    wxa_appid: \"\",\r\n    channel_type: 0,\r\n    channel_list: [],\r\n    android_version_type: 0,\r\n    android_version_list: [],\r\n    ios_version_type: 0,\r\n    ios_version_list: [],\r\n    new_show_start_num: 0,\r\n    new_show_max_num: 0,\r\n    old_show_start_num: 0,\r\n    old_show_max_num: 0,\r\n    end_time: \"\",\r\n    event_name: \"\",\r\n    status: 1\r\n};\r\nexport default {\r\n    data() {\r\n        return {\r\n            query: {\r\n                title: \"\",\r\n                page: 1,\r\n                limit: 20\r\n            },\r\n            channelListInput: \"\",\r\n            androidVersionListInput: \"\",\r\n            iosVersionListInput: \"\",\r\n            list: [],\r\n            total: 0,\r\n            loading: true,\r\n            index: null,\r\n            formName: null,\r\n            formMap: {\r\n                add: \"新增\",\r\n                edit: \"编辑\"\r\n            },\r\n            formLoading: false,\r\n            formVisible: false,\r\n            formData: formJson,\r\n            formRules: {\r\n                title: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入广告标题\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                pic: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择封面图片\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                jump_type: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请选择跳转方式\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                jump_url: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入跳转链接\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                android_url: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入Android类名\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                ios_url: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入IOS类名\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                wxa_appid: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入小程序Appid\",\r\n                        trigger: \"blur\"\r\n                    }\r\n                ],\r\n                channel_list: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入至少一个渠道名单\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                android_version_list: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入至少一个Android版本名单\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                ios_version_list: [\r\n                    {\r\n                        required: true,\r\n                        message: \"请输入至少一个iOS版本名单\",\r\n                        trigger: \"change\"\r\n                    }\r\n                ],\r\n                status: [\r\n                    { required: true, message: \"请选择状态\", trigger: \"change\" }\r\n                ]\r\n            },\r\n            deleteLoading: false\r\n        };\r\n    },\r\n    components: {\r\n        Upload\r\n    },\r\n    methods: {\r\n        onReset() {\r\n            this.$router.push({\r\n                path: \"\"\r\n            });\r\n            this.query = {\r\n                title: \"\",\r\n                page: 1,\r\n                limit: 20\r\n            };\r\n            this.getList();\r\n        },\r\n        onSubmit() {\r\n            this.$router.push({\r\n                path: \"\",\r\n                query: this.query\r\n            });\r\n            this.getList();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.query.limit = val;\r\n            this.getList();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.query.page = val;\r\n            this.getList();\r\n        },\r\n        getList() {\r\n            this.loading = true;\r\n            adList(this.query)\r\n                .then(response => {\r\n                    this.loading = false;\r\n                    this.list = response.data.List || [];\r\n                    this.total = response.data.total || 0;\r\n                })\r\n                .catch(() => {\r\n                    this.loading = false;\r\n                    this.list = [];\r\n                    this.total = 0;\r\n                });\r\n        },\r\n        // 删除渠道\r\n        handleChannelListClose(index) {\r\n            console.log(index);\r\n            // 更改值\r\n            this.formData.channel_list.splice(index, 1);\r\n        },\r\n        // 添加渠道白名单\r\n        handleChannelListSubmit() {\r\n            // 更改值\r\n            if (\r\n                this.channelListInput &&\r\n                this.formData.channel_list.length < 15\r\n            ) {\r\n                let arr = this.channelListInput.split(\",\");\r\n                for (let i in arr) {\r\n                    if (\r\n                        arr[i] !== \"\" &&\r\n                        (this.formData.channel_list.length === 0 ||\r\n                            this.formData.channel_list.indexOf(arr[i]) < 0)\r\n                    ) {\r\n                        this.formData.channel_list.push(arr[i]);\r\n                    }\r\n                }\r\n                this.channelListInput = \"\";\r\n                this.$refs.channelListRef.focus();\r\n            }\r\n        },\r\n        // 删除Android版本\r\n        handleAndroidVersionListClose(index) {\r\n            // 更改值\r\n            this.formData.android_version_list.splice(index, 1);\r\n        },\r\n        // 添加Android版本\r\n        handleAndroidVersionListSubmit() {\r\n            // 更改值\r\n            if (\r\n                this.androidVersionListInput &&\r\n                this.formData.android_version_list.length < 15\r\n            ) {\r\n                let arr = this.androidVersionListInput.split(\",\");\r\n                for (let i in arr) {\r\n                    let avList = this.formData.android_version_list;\r\n                    if (\r\n                        arr[i] !== \"\" &&\r\n                        (avList.length === 0 || avList.indexOf(arr[i]) < 0)\r\n                    ) {\r\n                        this.formData.android_version_list.push(arr[i]);\r\n                    }\r\n                }\r\n                this.androidVersionListInput = \"\";\r\n                this.$refs.androidVersionListRef.focus();\r\n            }\r\n        },\r\n        // 删除Ios版本\r\n        handleIosVersionListClose(index) {\r\n            // 更改值\r\n            this.formData.ios_version_list.splice(index, 1);\r\n        },\r\n        // 添加Ios版本\r\n        handleIosVersionListSubmit() {\r\n            // 更改值\r\n            if (\r\n                this.iosVersionListInput &&\r\n                this.formData.ios_version_list.length < 15\r\n            ) {\r\n                let arr = this.iosVersionListInput.split(\",\");\r\n                for (let i in arr) {\r\n                    if (\r\n                        arr[i] !== \"\" &&\r\n                        (this.formData.ios_version_list.length === 0 ||\r\n                            this.formData.ios_version_list.indexOf(arr[i]) < 0)\r\n                    ) {\r\n                        this.formData.ios_version_list.push(arr[i]);\r\n                    }\r\n                }\r\n                this.iosVersionListInput = \"\";\r\n                this.$refs.iosVersionListRef.focus();\r\n            }\r\n        },\r\n        // 刷新表单\r\n        resetForm() {\r\n            if (this.$refs[\"dataForm\"]) {\r\n                // 清空字段\r\n                this.$refs[\"dataForm\"].resetFields();\r\n                // 清空验证信息表单\r\n                this.$refs[\"dataForm\"].clearValidate();\r\n            }\r\n        },\r\n        // 隐藏表单\r\n        hideForm() {\r\n            // 更改值\r\n            this.formVisible = !this.formVisible;\r\n            return true;\r\n        },\r\n        // 显示表单\r\n        handleForm(index, row) {\r\n            this.formVisible = true;\r\n            // 刷新表单\r\n            this.resetForm();\r\n            this.formData = JSON.parse(JSON.stringify(formJson));\r\n            if (row !== null) {\r\n                this.formData = Object.assign({}, row);\r\n            }\r\n            this.formName = \"add\";\r\n            if (index !== null) {\r\n                this.index = index;\r\n                this.formName = \"edit\";\r\n            }\r\n        },\r\n        formSubmit() {\r\n            this.$refs[\"dataForm\"].validate(valid => {\r\n                if (valid) {\r\n                    this.formLoading = true;\r\n                    let data = Object.assign({}, this.formData);\r\n                    adSave(data, this.formName)\r\n                        .then(response => {\r\n                            this.formLoading = false;\r\n                            if (response.code) {\r\n                                this.$message.error(response.message);\r\n                                return false;\r\n                            }\r\n                            this.$message.success(\"操作成功\");\r\n                            this.formVisible = false;\r\n                            if (this.formName === \"add\") {\r\n                                // 向头部添加数据\r\n                                data.ad_id = response.data.ad_id;\r\n                                this.list.unshift(data);\r\n                            } else {\r\n                                this.list.splice(this.index, 1, data);\r\n                            }\r\n                        })\r\n                        .catch(() => {\r\n                            this.formLoading = false;\r\n                        });\r\n                }\r\n            });\r\n        },\r\n        // 删除\r\n        handleDel(index, row) {\r\n            if (row.ad_id) {\r\n                this.$confirm(\"确认删除该记录吗?\", \"提示\", {\r\n                    type: \"warning\"\r\n                })\r\n                    .then(() => {\r\n                        let para = { ad_id: row.ad_id };\r\n                        this.deleteLoading = true;\r\n                        adDelete(para)\r\n                            .then(response => {\r\n                                this.deleteLoading = false;\r\n                                if (response.code) {\r\n                                    this.$message.error(response.message);\r\n                                    return false;\r\n                                }\r\n                                this.$message(\"删除成功\");\r\n                                // 刷新数据\r\n                                this.list.splice(index, 1);\r\n                            })\r\n                            .catch(() => {\r\n                                this.deleteLoading = false;\r\n                            });\r\n                    })\r\n                    .catch(() => {\r\n                        this.$message.info(\"取消删除\");\r\n                    });\r\n            }\r\n        },\r\n        onSelectPic(filePath, filePathUrl) {\r\n            this.formData.pic = filePath;\r\n            this.formData.pic_url = filePathUrl;\r\n        }\r\n    },\r\n    filters: {\r\n        statusFilterType(status) {\r\n            const statusMap = {\r\n                0: \"gray\",\r\n                1: \"success\"\r\n            };\r\n            return statusMap[status];\r\n        },\r\n        statusFilterName(status) {\r\n            const statusMap = {\r\n                0: \"禁用\",\r\n                1: \"正常\"\r\n            };\r\n            return statusMap[status];\r\n        }\r\n    },\r\n    mounted() {},\r\n    created() {\r\n        // 将参数拷贝进查询对象\r\n        let query = this.$route.query;\r\n        this.query = Object.assign(this.query, query);\r\n        this.query.limit = parseInt(this.query.limit);\r\n        // 加载表格数据\r\n        this.getList();\r\n    }\r\n};\r\n</script>\r\n\r\n<style type=\"text/scss\" lang=\"scss\"></style>\r\n"]}]}