{"remainingRequest":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\ability\\dept\\Info.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\ability\\dept\\Info.vue","mtime":1588235430039},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getDeptInfo } from \"../../../api/admin/dept.js\";\nimport { getDeptUserList } from \"../../../api/admin/user.js\";\nimport { getHourRadixDeptBySum } from \"../../../api/checkwork/hour.js\";\nimport { dateFormat } from \"../../../utils/date.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n    data() {\n        return {\n            query: {\n                userId: null,\n                deptId: null\n            },\n            deptName: \"\",\n            userName: \"\",\n            userList: [],\n            avgNum: \"\",\n            ranking: \"\",\n        }\n    },\n    computed: {\n        ...mapGetters([\"permissions\", \"userId\", \"deptId\"])\n    },\n    created() {\n        this.query.deptId = this.deptId;\n        this.query.userId = this.userId;\n        this.getDeptInfo();\n        this.getDeptUserList();\n\n        this.getHourRadixDeptBySum();\n\n    },\n    mounted() {},\n    methods: {\n        getDeptInfo() {\n            getDeptInfo(this.query.deptId)\n                .then(response => {\n                    this.deptName = response.data.data.deptName;\n                    this.userName = response.data.data.userName;\n                })\n        },\n        getDeptUserList() {\n            getDeptUserList(this.query.deptId)\n                .then(response => {\n                    this.userList = response.data.data;\n                })\n        },\n        getHourRadixDeptBySum() {\n            getHourRadixDeptBySum(this.query)\n                .then(response => {\n                    response.data.data.forEach((item, index) => {\n                        if (item.deptId == this.deptId){\n                            console.log(item)\n                            this.avgNum = item.avgNum;\n                            this.ranking = index + 1;\n                        }\n                    })\n                })\n        }\n\n    }\n}\n",{"version":3,"sources":["Info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Info.vue","sourceRoot":"src/views/ability/dept","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"30\">\r\n            <el-col :span=\"8\" style=\"color: #000000;font-size: 1.2rem;line-height: 2.2rem;text-align: right;\">\r\n                <p>部门名称：</p>\r\n                <p>部门负责人：</p>\r\n                <p>成员：</p>\r\n                <p>部门平均工时率：</p>\r\n                <p>部门平均工时率公司排行：</p>\r\n                <p>部门人效kpi+趋势：</p>\r\n            </el-col>\r\n            <el-col :span=\"12\" style=\"color: #000000;font-size: 1rem;line-height: 2.2rem;\">\r\n                <p>{{deptName}}</p>\r\n                <p>{{userName}}</p>\r\n                <p>\r\n                    <span\r\n                        v-for=\"item in userList\"\r\n                        :key=\"item.userId\"\r\n                        style=\"margin-right: 5px;\">\r\n                        {{item.username}}\r\n                    </span>\r\n                </p>\r\n                <p>{{avgNum}} 小时</p>\r\n                <p>第 {{ranking}} 名</p>\r\n                <p></p>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { getDeptInfo } from \"../../../api/admin/dept.js\";\r\n    import { getDeptUserList } from \"../../../api/admin/user.js\";\r\n    import { getHourRadixDeptBySum } from \"../../../api/checkwork/hour.js\";\r\n    import { dateFormat } from \"../../../utils/date.js\";\r\n    import { mapGetters } from \"vuex\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                query: {\r\n                    userId: null,\r\n                    deptId: null\r\n                },\r\n                deptName: \"\",\r\n                userName: \"\",\r\n                userList: [],\r\n                avgNum: \"\",\r\n                ranking: \"\",\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"permissions\", \"userId\", \"deptId\"])\r\n        },\r\n        created() {\r\n            this.query.deptId = this.deptId;\r\n            this.query.userId = this.userId;\r\n            this.getDeptInfo();\r\n            this.getDeptUserList();\r\n\r\n            this.getHourRadixDeptBySum();\r\n\r\n        },\r\n        mounted() {},\r\n        methods: {\r\n            getDeptInfo() {\r\n                getDeptInfo(this.query.deptId)\r\n                    .then(response => {\r\n                        this.deptName = response.data.data.deptName;\r\n                        this.userName = response.data.data.userName;\r\n                    })\r\n            },\r\n            getDeptUserList() {\r\n                getDeptUserList(this.query.deptId)\r\n                    .then(response => {\r\n                        this.userList = response.data.data;\r\n                    })\r\n            },\r\n            getHourRadixDeptBySum() {\r\n                getHourRadixDeptBySum(this.query)\r\n                    .then(response => {\r\n                        response.data.data.forEach((item, index) => {\r\n                            if (item.deptId == this.deptId){\r\n                                console.log(item)\r\n                                this.avgNum = item.avgNum;\r\n                                this.ranking = index + 1;\r\n                            }\r\n                        })\r\n                    })\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}