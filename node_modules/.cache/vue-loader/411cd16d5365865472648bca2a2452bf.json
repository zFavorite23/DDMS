{"remainingRequest":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\purchase\\purchaseApply\\Approver.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\purchase\\purchaseApply\\Approver.vue","mtime":1595315623064},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getPurchaseApprover, getPurchasePage, getPurchase } from '../../../api/purchase/purchase.js';\nimport { mapGetters } from 'vuex';\nexport default {\n    data() {\n        return {\n            query: {\n                userId: null,\n                status: '',\n                likeKeyWords: '',\n                orderBy: 'create_time_desc',\n                current: 1,\n                size: 10,\n                type1: ''\n            },\n            list: [],\n            listType: '2',\n            pages: 0,\n            total: 0,\n            disabled: false,\n            listLoading: false,\n            statusOptions: [\n                {\n                    value: '',\n                    label: '全部'\n                },\n                {\n                    value: '0',\n                    label: '审批中'\n                },\n                {\n                    value: '1',\n                    label: '同意'\n                },\n                {\n                    value: '2',\n                    label: '拒绝'\n                }\n            ],\n            classifyOptions: [\n                {\n                    value: '',\n                    label: '全部'\n                }\n            ]\n        };\n    },\n    created() {\n        this.query.userId = this.userId;\n        this.getPurchaseApprover();\n        this.getPurchase('100000');\n        let page = sessionStorage.getItem('page2');\n        if (page != null) {\n            this.query.current = Number(page);\n        }\n        this.query.status = this.$route.query.status;\n        if (!this.query.status) {\n            this.query.status = '';\n        }\n    },\n    computed: {\n        ...mapGetters(['permissions', 'userId'])\n    },\n    methods: {\n        openList(val) {\n            if (val == 1) {\n                this.$router.push({\n                    path: '/purchase/form'\n                });\n            }\n        },\n        getPurchase(id) {\n            getPurchase(id, this.userId).then(res => {\n                res.data.data.purchaseType.forEach(item => {\n                    this.classifyOptions.push({\n                        value: item.id,\n                        label: item.name\n                    });\n                });\n            });\n        },\n        getPurchaseApprover() {\n            getPurchaseApprover(this.query).then(res => {\n                this.total = res.data.data.total;\n                this.query.current = res.data.data.current;\n                this.query.size = res.data.data.size;\n                this.list = res.data.data.records;\n                console.log(this.list)\n            });\n        },\n        handInfo(data) {\n            console.log(data);\n            this.$router.push({\n                path: 'info/' + data.purchaseId\n            });\n        },\n        handleSizeChange(val) {\n            this.query.size = val;\n            this.getPurchaseApprover();\n        },\n        handleCurrentChange(val) {\n            this.query.current = val;\n            sessionStorage.setItem('page2', val);\n            this.getPurchaseApprover();\n        },\n        copyCode(row) {\n            this.$message({\n                message: '已成功复制到粘贴板！',\n                type: 'success'\n            });\n            this.$copyText(`${row.buyUrl}`).then(res => {\n                console.log(res);\n                // this.$toast(\"已成功复制，可直接去粘贴\");\n            });\n        }\n    }\n};\n",null]}