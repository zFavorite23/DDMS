{"remainingRequest":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\apply\\expense\\Info.vue?vue&type=template&id=a6681d24&scoped=true&","dependencies":[{"path":"D:\\DDMS\\src\\views\\apply\\expense\\Info.vue","mtime":1594274131101},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\loaders\\templateLoader.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div style=\"max-width: 800px;\">\n    <el-button @click=\"backHistory\" class=\"back\">返回</el-button>\n    <div class=\"title\" style=\"margin-top: -40px;margin-bottom:20px;\">\n        <p class=\"name\">支出申请单</p>\n        <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" v-if=\"expenseInfo\">\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>支出名称</td>\n                <td>{{ expenseInfo.name }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>采购名称</td>\n                <td>{{ expenseInfo.name }}</td>\n            </tr>\n            <tr>\n                <td>总分类</td>\n                <td>{{ expenseInfo.type1Name }}</td>\n            </tr>\n\n            <tr v-if=\"expenseInfo.itemId != null\">\n                <td style=\"width: 35%;\">项目&产品</td>\n                <td v-if=\"expenseInfo.alias != null\">{{ expenseInfo.alias }}</td>\n                <td v-else>与项目无关</td>\n            </tr>\n            <tr>\n                <td>明细分类</td>\n                <td>{{ expenseInfo.type3Name }}</td>\n            </tr>\n            <tr>\n                <td>申请人</td>\n                <td>{{ expenseInfo.applyUserName }}</td>\n            </tr>\n            <tr>\n                <td>是否对外</td>\n                <td v-if=\"expenseInfo.isPublic == 0\"><el-tag type=\"danger\">否</el-tag></td>\n                <td v-if=\"expenseInfo.isPublic == 1\"><el-tag type=\"success\">是</el-tag></td>\n            </tr>\n\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>公司名称</td>\n                <td>{{ expenseInfo.companyName }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>银行名称</td>\n                <td>{{ expenseInfo.bankName }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>银行账号</td>\n                <td>{{ expenseInfo.bankAccount }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>支出金额</td>\n                <td>{{ expenseInfo.priceYuan }} 元</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>备注信息</td>\n                <td>{{ expenseInfo.remark }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 1\">\n                <td>用途及明细</td>\n                <td>{{ expenseInfo.detailed }}</td>\n            </tr>\n\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>厂家名称</td>\n                <td>{{ expenseInfo.companyName }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>联系方式</td>\n                <td>{{ expenseInfo.contact }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>购买链接</td>\n                <td>{{ expenseInfo.buyUrl }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>型号参数</td>\n                <td>{{ expenseInfo.model }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>数量/单位</td>\n                <td>{{ expenseInfo.num }}&nbsp;{{ expenseInfo.unit }}</td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>议定单价</td>\n                <td>{{ expenseInfo.priceYuan }} 元</td>\n            </tr>\n\n            <tr>\n                <td>合同及附件图片</td>\n                <td v-if=\"expenseInfo.contract\">\n                    <el-image v-for=\"(url, index) in urls2\" :key=\"url\" :src=\"url\" lazy @click=\"onPreview2(index)\"></el-image>\n                    <el-image-viewer v-if=\"showViewer\" :on-close=\"closeViewer\" :url-list=\"[url]\"></el-image-viewer>\n                </td>\n                <td v-else>无</td>\n            </tr>\n            <tr>\n                <td>审批状态</td>\n                <td>\n                    <span v-if=\"expenseInfo.status == '0'\"><el-tag type=\"warning\">审批中</el-tag></span>\n                    <span v-else-if=\"expenseInfo.status == '1'\"><el-tag type=\"success\">已同意</el-tag></span>\n                    <span v-else-if=\"expenseInfo.status == '2'\"><el-tag type=\"danger\">已拒绝</el-tag></span>\n                    <span v-else></span>\n                </td>\n            </tr>\n            <tr v-if=\"(formData.isPublic = '1')\">\n                <td>确认状态</td>\n                <td>\n                    <span v-if=\"expenseInfo.isAffirm == '1'\"><el-tag type=\"success\">已确认</el-tag></span>\n                    <span v-else-if=\"expenseInfo.isAffirm == '0'\"><el-tag type=\"danger\">未确认</el-tag></span>\n                    <span v-else></span>\n                    &nbsp;&nbsp;\n                    <el-button\n                        size=\"mini\"\n                        type=\"danger\"\n                        @click.native=\"handleModalAffirm(expenseInfo)\"\n                        v-if=\"expenseInfo.status == 1 && expenseInfo.isAffirm == 0 && deptId == '7100'\"\n                    >\n                        确认\n                    </el-button>\n                </td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0\">\n                <td>采购状态</td>\n                <td>\n                    <el-tag v-if=\"expenseInfo.purchaseStatus == 0\" type=\"warning\">未支付</el-tag>\n                    <el-tag v-else-if=\"expenseInfo.purchaseStatus == 1\" type=\"warning\">已支付未发货</el-tag>\n                    <el-tag v-else-if=\"expenseInfo.purchaseStatus == 2\" type=\"success\">已发货</el-tag>\n                    <el-tag v-else-if=\"expenseInfo.purchaseStatus == 3\" type=\"success\">已签收</el-tag>\n                    <el-tag v-else-if=\"expenseInfo.purchaseStatus == 4\" type=\"success\">已支付无需发货</el-tag>\n                    <el-tag v-else></el-tag>\n                    <el-button size=\"mini\" type=\"danger\" @click.native=\"handleModal(expenseInfo)\" v-if=\"deptId == '3000' || deptId == '3200'\">编辑</el-button>\n                </td>\n            </tr>\n            <tr v-if=\"expenseInfo.isPublic == 0 && (expenseInfo.purchaseStatus == 2 || expenseInfo.purchaseStatus == 3)\">\n                <td>物流信息</td>\n                <td>{{ expenseInfo.expressName }}：{{ expenseInfo.expressNum }}</td>\n            </tr>\n            <tr>\n                <td>发票信息</td>\n                <td>\n                    <span v-if=\"expenseInfo.invoiceType == 0\">无发票</span>\n                    <span v-else-if=\"expenseInfo.invoiceType == 1\">专票</span>\n                    <span v-else-if=\"expenseInfo.invoiceType == 2\">普票</span>\n                    <span v-if=\"expenseInfo.invoiceType > 0\">：{{ expenseInfo.taxRate }} %</span>\n                    <el-button size=\"mini\" type=\"danger\" @click.native=\"handleModalInvoice(expenseInfo)\" v-if=\"deptId == '3000' || deptId == '3200'\">编辑</el-button>\n                </td>\n            </tr>\n            <tr v-if=\"expenseInfo.invoiceType > 0\">\n                <td>发票图片</td>\n                <td v-if=\"expenseInfo.invoiceImg\">\n                    <el-image v-for=\"(url, index) in urls1\" :key=\"url\" :src=\"url\" lazy @click=\"onPreview1(index)\"></el-image>\n                    <el-image-viewer v-if=\"showViewer\" :on-close=\"closeViewer\" :url-list=\"[url]\"></el-image-viewer>\n                </td>\n                <td v-else>无</td>\n            </tr>\n            <tr>\n                <td>申请时间</td>\n                <td>{{ expenseInfo.createTime }}</td>\n            </tr>\n        </table>\n    </div>\n    <div><p class=\"name\">审批结果</p></div>\n    <div class=\"result\" v-for=\"approver in approverList\">\n        <el-avatar size=\"medium\" :src=\"approver.checkUserAvatar\" class=\"avatar\"></el-avatar>\n        <span class=\"username\" style=\"color: #65CEA7;\">\n            {{ approver.checkUserName }}\n            <i class=\"el-icon-time\" style=\"color: #000;margin-left: 10px;margin-right: 5px\" v-if=\"approver.check > 0\"></i>\n            <span style=\"color: #000\" v-if=\"approver.check > 0\">{{ approver.updateTime }}</span>\n        </span>\n        <span style=\"color: #000000;margin-top: 45px;position: absolute;font-size: 12px\">审批意见：{{ approver.summary }}</span>\n        <div>\n            <span v-if=\"approver.check == 0 && approver.isBeing == 1\">\n                <el-tag class=\"checkSty\" type=\"warning\">\n                    <i class=\"el-icon-loading\" style=\"margin-right:5px\"></i>\n                    审批中\n                </el-tag>\n            </span>\n            <span v-if=\"approver.check == 0 && approver.isBeing == 0\">\n                <el-tag class=\"checkSty\" type=\"\">\n                    <i class=\"el-icon-loading\" style=\"margin-right:5px\"></i>\n                    待审批\n                </el-tag>\n            </span>\n            <span v-if=\"approver.check == 1\">\n                <el-tag class=\"checkSty\" type=\"success\">\n                    <i class=\"el-icon-success\" style=\"margin-right:5px\"></i>\n                    已同意\n                </el-tag>\n            </span>\n            <span v-if=\"approver.check == 2\">\n                <el-tag class=\"checkSty\" type=\"danger\">\n                    <i class=\"el-icon-error\" style=\"margin-right:5px\"></i>\n                    已拒绝\n                </el-tag>\n            </span>\n        </div>\n    </div>\n\n    <div v-if=\"showCheck\">\n        <div class=\"title left\"><p class=\"name\">审批</p></div>\n        <el-alert title=\"审批流程不可逆转\" type=\"warning\"></el-alert>\n        <el-form :model=\"formData\" :rules=\"rules\" ref=\"formData\" label-width=\"100px\" class=\"demo-ruleForm res\" style=\"width: 100%\">\n            <el-radio-group v-model=\"formData.check\" @change=\"selectChcek\" style=\"margin-top: 10px;margin-left: 20px\">\n                <el-radio label=\"1\">同意</el-radio>\n                <el-radio label=\"2\">拒绝</el-radio>\n            </el-radio-group>\n            <el-form-item prop=\"summary\" style=\"margin-left: -100px;margin-top: 10px\">\n                <el-input type=\"textarea\" v-model=\"formData.summary\" placeholder=\"请填写原因\" maxlength=\"30\" show-word-limit></el-input>\n            </el-form-item>\n            <el-form-item><el-button type=\"success\" class=\"submit\" @click=\"onSubmit\" :loading=\"saving\">提交</el-button></el-form-item>\n        </el-form>\n    </div>\n\n    <el-dialog title=\"修改采购状态\" :visible.sync=\"dialogVisibleExpress\" :width=\"'80%'\">\n        <el-form :model=\"editExpressData\" :rules=\"rules\" ref=\"editExpressData\" label-width=\"80px\">\n            <el-form-item label=\"状态\" prop=\"purchaseStatus\">\n                <el-select v-model=\"editExpressData.purchaseStatus\" placeholder=\"请选择\" @change=\"selectPurchaseStatus\">\n                    <el-option v-for=\"(item, index) in purchaseStatusOptions\" :value=\"item.value\" :key=\"index\" :label=\"item.label\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"快递公司\" prop=\"expressName\" v-if=\"editExpressData.purchaseStatus == 2 || editExpressData.purchaseStatus == 3\">\n                <el-input v-model=\"editExpressData.expressName\" placeholder=\"请填写快递公司\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"快递单号\" prop=\"expressNum\" v-if=\"editExpressData.purchaseStatus == 2 || editExpressData.purchaseStatus == 3\">\n                <el-input v-model=\"editExpressData.expressNum\" placeholder=\"请填写快递单号\"></el-input>\n            </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"handleSubmit\">提 交</el-button>\n            <el-button @click=\"dialogVisibleExpress = false\">取 消</el-button>\n        </div>\n    </el-dialog>\n    <el-dialog title=\"修改审批状态\" :visible.sync=\"dialogVisibleInvoice\" :width=\"'80%'\">\n        <el-form :model=\"editInvoiceData\" :rules=\"rules\" ref=\"editInvoiceData\" label-width=\"135px\">\n            <el-form-item label=\"状态\" prop=\"invoiceType\">\n                <el-select v-model=\"editInvoiceData.invoiceType\" placeholder=\"请选择\" @change=\"selectInvoiceType\">\n                    <el-option v-for=\"(item, index) in invoiceTypeOptions\" :value=\"item.value\" :key=\"index\" :label=\"item.label\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"税率\" prop=\"taxRate\" v-if=\"editInvoiceData.invoiceType > 0\">\n                <el-input type=\"number\" v-model=\"editInvoiceData.taxRate\" placeholder=\"请填写税率\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"发票图片：\" v-if=\"editInvoiceData.invoiceType > 0\" prop=\"invoiceImg\">\n                <el-upload\n                    class=\"upload-demo box\"\n                    :action=\"uploadUrl\"\n                    name=\"file\"\n                    :on-preview=\"handlePreview1\"\n                    :on-remove=\"handleRemove1\"\n                    :on-success=\"handSuccess1\"\n                    :file-list=\"fileList1\"\n                    accept=\".png,.jpg,.jpeg,.JPEG,.PNG,.JPG\"\n                    :auto-upload=\"true\"\n                    :before-upload=\"beforeAvatarUpload\"\n                    list-type=\"picture\"\n                >\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>\n                </el-upload>\n            </el-form-item>\n        </el-form>\n        <div slot=\"footer\" class=\"dialog-footer\">\n            <el-button type=\"primary\" @click=\"handleSubmitInvoice\">提 交</el-button>\n            <el-button @click=\"dialogVisibleInvoice = false\">取 消</el-button>\n        </div>\n    </el-dialog>\n</div>\n",null]}