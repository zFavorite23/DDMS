{"remainingRequest":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js!D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\purchase\\purchaseApply\\Info.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\purchase\\purchaseApply\\Info.vue","mtime":1598236622730},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"D:\\\\DDMS\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getPurchaseInfo as _getPurchaseInfo, updatePurchaseApprover, getBusinessDept as _getBusinessDept } from \"../../../api/purchase/purchase.js\";\nimport { mapGetters } from 'vuex';\nimport ElImageViewer from 'element-ui/packages/image/src/image-viewer';\nexport default {\n  components: {\n    ElImageViewer: ElImageViewer\n  },\n  data: function data() {\n    var _formData;\n\n    return {\n      purchaseId: null,\n      purchaseInfo: '',\n      approverList: [],\n      url: '',\n      urls2: [],\n      showViewer: false,\n      // 显示查看器\n      formData: (_formData = {\n        userId: null,\n        approverId: null\n      }, _defineProperty(_formData, \"userId\", null), _defineProperty(_formData, \"check\", '1'), _defineProperty(_formData, \"summary\", '同意'), _defineProperty(_formData, \"principalId\", 91), _formData),\n      query: {\n        deptId: 3100\n      },\n      rules: {\n        summary: [{\n          required: true,\n          message: '请填写原因'\n        }],\n        principalId: [{\n          required: true,\n          message: '请选择采购负责人',\n          trigger: 'change'\n        }]\n      },\n      showCheck: false,\n      saving: false,\n      BusinessList: []\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['permissions', 'userId'])),\n  created: function created() {\n    this.purchaseId = this.$route.params.purchaseId;\n    this.getPurchaseInfo();\n    this.formData.userId = this.userId;\n    this.getBusinessDept(this.query);\n  },\n  methods: {\n    backHistory: function backHistory() {\n      this.$router.go(-1);\n    },\n    getPurchaseInfo: function getPurchaseInfo() {\n      var _this = this;\n\n      _getPurchaseInfo(this.purchaseId).then(function (res) {\n        _this.purchaseInfo = res.data.data;\n        console.log(_this.purchaseInfo);\n        _this.approverList = res.data.data.checkUserList;\n\n        _this.approverList.forEach(function (item, index) {\n          if (item.check == 0 && item.isBeing == 1 && item.userId == _this.formData.userId) {\n            _this.formData.approverId = item.approverId;\n            _this.showCheck = true;\n          }\n        });\n\n        _this.urls2 = [];\n\n        if (_this.purchaseInfo.purchaseImg) {\n          _this.purchaseInfo.purchaseImg.split(',').forEach(function (item, index) {\n            if (item) {\n              _this.urls2.push(\"\".concat(window.location.origin, \"/apply/purchase/\") + item);\n            }\n          });\n        }\n      });\n    },\n    selectChcek: function selectChcek() {\n      if (this.formData.check == 1) {\n        this.formData.summary = '同意';\n      } else {\n        this.formData.summary = '';\n      }\n    },\n    onSubmit: function onSubmit() {\n      var _this2 = this;\n\n      this.$refs['formData'].validate(function (valid) {\n        console.log(_this2.formData);\n\n        if (valid) {\n          updatePurchaseApprover(_this2.formData).then(function (res) {\n            // console.log(res);\n            if (res.data.data) {\n              _this2.backHistory();\n            }\n          }).finally(function () {\n            _this2.saving = false;\n          }); // console.log(this.formData);\n        }\n      });\n    },\n    getBusinessDept: function getBusinessDept(id) {\n      var _this3 = this;\n\n      _getBusinessDept(id).then(function (res) {\n        // console.log(res);\n        res.data.data.forEach(function (item) {\n          _this3.BusinessList.push({\n            value: item.userId,\n            label: item.username\n          });\n        });\n      });\n    },\n    closeViewer: function closeViewer() {\n      this.showViewer = false;\n      this.url = '';\n    },\n    onPreview2: function onPreview2(val) {\n      this.url = this.urls2[val];\n      this.showViewer = true;\n    }\n  }\n};",{"version":3,"sources":["Info.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <el-button @click=\"backHistory\" class=\"back\">返回</el-button>\n\n        <el-row :gutter=\"20\">\n            <el-col :xs=\"{ span: 24 }\" :md=\"{ span: 12 }\">\n                <div class=\"title\" style=\"margin-bottom:20px;\">\n                    <p class=\"name\">采购申请单</p>\n                    <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\n                        <tr>\n                            <td>申请人</td>\n                            <td colspan=\"3\">{{ purchaseInfo.applyUserName }}</td>\n                        </tr>\n                        <tr>\n                            <td>项目名称</td>\n                            <td colspan=\"3\" v-if=\"purchaseInfo.alias != null && purchaseInfo.aliasNext == null\">{{ purchaseInfo.alias }}</td>\n                            <td colspan=\"3\" v-else-if=\"purchaseInfo.alias != null && purchaseInfo.aliasNext != null\">{{ purchaseInfo.aliasNext }} / {{ purchaseInfo.alias }}</td>\n                            <td colspan=\"3\" v-else>与项目无关</td>\n                        </tr>\n                        <tr>\n                            <td width=\"100\">总分类</td>\n                            <td>{{ purchaseInfo.type1Name }}</td>\n\n                            <td width=\"100\">明细分类</td>\n                            <td>{{ purchaseInfo.type3Name }}</td>\n                        </tr>\n                        <tr>\n                            <td>采购物品名称</td>\n                            <td colspan=\"3\">{{ purchaseInfo.name }}</td>\n                        </tr>\n                        <tr>\n                            <td>数量</td>\n                            <td colspan=\"3\">{{ purchaseInfo.num }}</td>\n                        </tr>\n                        <tr>\n                            <td>单价</td>\n                            <td colspan=\"3\">{{ purchaseInfo.priceYuan }}</td>\n                        </tr>\n                        <tr>\n                            <td>总价</td>\n                            <td colspan=\"3\">{{ purchaseInfo.guessPriceYuan }}</td>\n                        </tr>\n                        <tr>\n                            <td>具体需求</td>\n                            <td colspan=\"3\">{{ purchaseInfo.demand }}</td>\n                        </tr>\n                        <tr>\n                            <td>京东/淘宝链接</td>\n                            <td colspan=\"3\"><el-link type=\"primary\" :href=\"purchaseInfo.buyUrl\" target=\"_blank\">链接</el-link></td>\n                        </tr>\n                        <tr>\n                            <td>推荐厂家/联系方式</td>\n                            <td colspan=\"3\">{{ purchaseInfo.factoryName }}</td>\n                        </tr>\n                        <tr>\n                            <td>备注</td>\n                            <td colspan=\"3\">{{ purchaseInfo.remark }}</td>\n                        </tr>\n                        <tr>\n                            <td>收货信息</td>\n                            <td colspan=\"3\">{{ purchaseInfo.contact }}</td>\n                        </tr>\n                        <tr>\n                            <td>预计到货时间</td>\n                            <td colspan=\"3\">{{ purchaseInfo.guessTime }}</td>\n                        </tr>\n                        <tr>\n                            <td>型号参数</td>\n                            <td colspan=\"3\">{{ purchaseInfo.model }}</td>\n                        </tr>\n                        <tr>\n                            <td>型号参数图片</td>\n                            <td colspan=\"3\" v-if=\"purchaseInfo.purchaseImg\">\n                                <el-image v-for=\"(url, index) in urls2\" :key=\"url\" :src=\"url\" lazy @click=\"onPreview2(index)\"></el-image>\n                                <el-image-viewer v-if=\"showViewer\" :on-close=\"closeViewer\" :url-list=\"[url]\"></el-image-viewer>\n                            </td>\n                            <td colspan=\"3\" v-else><span>无</span></td>\n                        </tr>\n                        <tr>\n                            <td>状态</td>\n                            <td colspan=\"3\" v-if=\"purchaseInfo.status == 0\"><el-tag type=\"warning\">审批中</el-tag></td>\n                            <td colspan=\"3\" v-if=\"purchaseInfo.status == 1\"><el-tag type=\"success\">已同意</el-tag></td>\n                            <td colspan=\"3\" v-if=\"purchaseInfo.status == 2\"><el-tag type=\"danger\">已拒绝</el-tag></td>\n                        </tr>\n                    </table>\n                </div>\n                <div><p class=\"name\">审批结果</p></div>\n                <div class=\"result\" v-for=\"approver in approverList\">\n                    <el-avatar size=\"medium\" :src=\"approver.checkUserAvatar\" class=\"avatar\"></el-avatar>\n                    <span class=\"username\" style=\"color: #65CEA7;\">\n                        {{ approver.checkUserName }}\n                        <i class=\"el-icon-time\" style=\"color: #000;margin-left: 10px;margin-right: 5px\" v-if=\"approver.check > 0\"></i>\n                        <span style=\"color: #000\" v-if=\"approver.check > 0\">{{ approver.updateTime }}</span>\n                    </span>\n                    <span style=\"color: #000000;margin-top: 45px;position: absolute;font-size: 12px\">审批意见：{{ approver.summary }}</span>\n                    <div>\n                        <span v-if=\"approver.check == 0 && approver.isBeing == 1\">\n                            <el-tag class=\"checkSty\" type=\"warning\">\n                                <i class=\"el-icon-loading\" style=\"margin-right:5px\"></i>\n                                审批中\n                            </el-tag>\n                        </span>\n                        <span v-if=\"approver.check == 0 && approver.isBeing == 0\">\n                            <el-tag class=\"checkSty\" type=\"\">\n                                <i class=\"el-icon-loading\" style=\"margin-right:5px\"></i>\n                                待审批\n                            </el-tag>\n                        </span>\n                        <span v-if=\"approver.check == 1\">\n                            <el-tag class=\"checkSty\" type=\"success\">\n                                <i class=\"el-icon-success\" style=\"margin-right:5px\"></i>\n                                已同意\n                            </el-tag>\n                        </span>\n                        <span v-if=\"approver.check == 2\">\n                            <el-tag class=\"checkSty\" type=\"danger\">\n                                <i class=\"el-icon-error\" style=\"margin-right:5px\"></i>\n                                已拒绝\n                            </el-tag>\n                        </span>\n                    </div>\n                </div>\n\n                <div v-if=\"showCheck\">\n                    <div class=\"title left\"><p class=\"name\">审批</p></div>\n                    <el-alert title=\"审批流程不可逆转\" type=\"warning\"></el-alert>\n                    <el-form :model=\"formData\" :rules=\"rules\" ref=\"formData\" label-width=\"100px\" class=\"demo-ruleForm res\" style=\"width: 100%\">\n                        <!-- <el-form-item label=\"采购负责人：\" prop=\"principalId\">\n                            <el-select v-model=\"formData.principalId\" placeholder=\"请选择\">\n                                <el-option v-for=\"item in BusinessList\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n                            </el-select>\n                        </el-form-item> -->\n                        <el-radio-group v-model=\"formData.check\" @change=\"selectChcek\" style=\"margin-top: 10px;margin-left: 20px\">\n                            <el-radio label=\"1\">同意</el-radio>\n                            <el-radio label=\"2\">拒绝</el-radio>\n                        </el-radio-group>\n                        <el-form-item prop=\"summary\" style=\"margin-left: -100px;margin-top: 10px\">\n                            <el-input type=\"textarea\" v-model=\"formData.summary\" placeholder=\"请填写原因\" maxlength=\"30\" show-word-limit></el-input>\n                        </el-form-item>\n                        <el-form-item><el-button type=\"success\" class=\"submit\" @click=\"onSubmit\" :loading=\"saving\">提交</el-button></el-form-item>\n                    </el-form>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport { getPurchaseInfo, updatePurchaseApprover, getBusinessDept } from '../../../api/purchase/purchase.js';\nimport { mapGetters } from 'vuex';\nimport ElImageViewer from 'element-ui/packages/image/src/image-viewer';\n\nexport default {\n    components: { ElImageViewer },\n    data() {\n        return {\n            purchaseId: null,\n            purchaseInfo: '',\n            approverList: [],\n            url: '',\n            urls2: [],\n            showViewer: false, // 显示查看器\n            formData: {\n                userId: null,\n                approverId: null,\n                userId: null,\n                check: '1',\n                summary: '同意',\n                principalId: 91\n            },\n            query: {\n                deptId: 3100\n            },\n            rules: {\n                summary: [{ required: true, message: '请填写原因' }],\n                principalId: [{ required: true, message: '请选择采购负责人', trigger: 'change' }]\n            },\n            showCheck: false,\n            saving: false,\n            BusinessList: []\n        };\n    },\n    computed: {\n        ...mapGetters(['permissions', 'userId'])\n    },\n    created() {\n        this.purchaseId = this.$route.params.purchaseId;\n        this.getPurchaseInfo();\n        this.formData.userId = this.userId;\n        this.getBusinessDept(this.query);\n    },\n    methods: {\n        backHistory() {\n            this.$router.go(-1);\n        },\n        getPurchaseInfo() {\n            getPurchaseInfo(this.purchaseId).then(res => {\n                this.purchaseInfo = res.data.data;\n                console.log(this.purchaseInfo);\n                this.approverList = res.data.data.checkUserList;\n                this.approverList.forEach((item, index) => {\n                    if (item.check == 0 && item.isBeing == 1 && item.userId == this.formData.userId) {\n                        this.formData.approverId = item.approverId;\n                        this.showCheck = true;\n                    }\n                });\n                this.urls2 = [];\n                if (this.purchaseInfo.purchaseImg) {\n                    this.purchaseInfo.purchaseImg.split(',').forEach((item, index) => {\n                        if (item) {\n                            this.urls2.push(`${window.location.origin}/apply/purchase/` + item);\n                        }\n                    });\n                }\n            });\n        },\n        selectChcek() {\n            if (this.formData.check == 1) {\n                this.formData.summary = '同意';\n            } else {\n                this.formData.summary = '';\n            }\n        },\n        onSubmit() {\n            this.$refs['formData'].validate(valid => {\n                console.log(this.formData);\n\n                if (valid) {\n                    updatePurchaseApprover(this.formData)\n                        .then(res => {\n                            // console.log(res);\n                            if (res.data.data) {\n                                this.backHistory();\n                            }\n                        })\n                        .finally(() => {\n                            this.saving = false;\n                        });\n\n                    // console.log(this.formData);\n                }\n            });\n        },\n        getBusinessDept(id) {\n            getBusinessDept(id).then(res => {\n                // console.log(res);\n                res.data.data.forEach(item => {\n                    this.BusinessList.push({\n                        value: item.userId,\n                        label: item.username\n                    });\n                });\n            });\n        },\n        closeViewer() {\n            this.showViewer = false;\n            this.url = '';\n        },\n        onPreview2(val) {\n            this.url = this.urls2[val];\n            this.showViewer = true;\n        }\n    }\n};\n</script>\n\n<style scoped>\n.paste {\n    display: none;\n}\n.line {\n    display: none;\n}\n@page {\n    size: auto; /* auto is the initial value */\n    margin: 0mm; /* this affects the margin in the printer settings */\n}\nhtml {\n    background-color: #ffffff;\n    margin: 0px; /* this affects the margin on the html before sending to printer */\n}\nbody {\n    border: solid 1px blue;\n    margin: 10mm 15mm 10mm 15mm; /* margin you want for the content */\n}\ntable {\n    margin-top: 20px;\n    color: #1f2d3d;\n    width: 100%;\n    border-right: 1px solid #1f2d3d;\n    border-bottom: 1px solid #1f2d3d;\n}\ntable td {\n    padding: 10px 0;\n    border-left: 1px solid #1f2d3d;\n    border-top: 1px solid #1f2d3d;\n}\n.el-tag {\n    line-height: 16px;\n    height: auto;\n}\n.el-image {\n    width: 100px;\n}\n.submit {\n    float: right;\n    margin-top: -10px;\n}\n.back {\n    margin-top: 10px;\n}\n.title {\n    text-align: center;\n}\n.name {\n    font-size: 21px;\n    color: #1f2d3d;\n    padding: 10px 0 5px 0;\n    text-align: center;\n}\n.time {\n    font-size: 16px;\n    color: #9d9e61;\n    padding: 10px 0;\n}\n.result {\n    max-width: 800px;\n    height: 100px;\n    border: 1px solid #f1f3f4;\n    margin-bottom: 10px;\n}\n.avatar {\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n    height: 45px;\n    width: 45px;\n}\n.username {\n    margin-top: 22px;\n    position: absolute;\n}\n.res {\n    max-width: 800px;\n    height: 225px;\n    border: 1px solid #f1f3f4;\n    padding: 10px;\n}\n.submit {\n    float: right;\n    margin-top: -10px;\n}\n\n.checkSty {\n    float: right;\n    right: 10px;\n    margin-top: -60px;\n    position: relative;\n    line-height: 32px;\n    height: 32px;\n}\n.result {\n    max-width: 800px;\n    height: 100px;\n    border: 1px solid #f1f3f4;\n    margin-bottom: 10px;\n}\n.avatar {\n    margin-top: 20px;\n    margin-left: 20px;\n    margin-right: 20px;\n    height: 45px;\n    width: 45px;\n}\n.print {\n    float: right;\n    background-color: #65cea7;\n    color: #ffffff;\n    position: absolute;\n    right: 3%;\n}\n</style>\n"],"sourceRoot":"src/views/purchase/purchaseApply"}]}