{"remainingRequest":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js!D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\other\\Process.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\other\\Process.vue","mtime":1594003824563},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport _defineProperty from \"D:\\\\DDMS\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getProcessPage as _getProcessPage, delProcess } from \"../../api/other/process.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      query: {\n        current: 1,\n        size: 10\n      },\n      listType: '2',\n      dialogVisible: false,\n      pages: 0,\n      total: 0,\n      listLoading: false,\n      list: [],\n      processImageUrl: null\n    };\n  },\n  created: function created() {\n    this.getProcessPage();\n  },\n  computed: _objectSpread({}, mapGetters([\"permissions\"])),\n  methods: {\n    getProcessPage: function getProcessPage() {\n      var _this = this;\n\n      this.loading = true;\n\n      _getProcessPage(this.query).then(function (response) {\n        _this.loading = false; //console.log(response.data.data)\n\n        _this.total = response.data.data.total;\n        _this.query.current = response.data.data.current;\n        _this.query.size = response.data.data.size;\n        _this.list = response.data.data.records;\n      }).catch(function () {\n        _this.loading = false;\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.query.size = val;\n      this.getProcessPage();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.query.current = val;\n      this.getProcessPage();\n    },\n    handleImage: function handleImage(row) {\n      this.dialogVisible = true; //this.processImageUrl = location.host + \"/act/process/resource/\"+row.deploymentId+\"/\"+row.processonDefinitionId+\"/image\"\n\n      this.processImageUrl = \"http://oa.dreamdeck.cn/act/process/resource/\" + row.deploymentId + \"/\" + row.processonDefinitionId + \"/image\";\n    },\n    // 删除\n    handleDel: function handleDel(index, row) {\n      var _this2 = this;\n\n      if (row.id) {\n        this.$confirm(\"确认删除 \" + row.name + \" 吗?\", \"提示\", {\n          type: \"warning\"\n        }).then(function () {\n          delProcess(row.id).then(function (res) {\n            console.log(res);\n\n            _this2.getModelPage();\n          });\n        });\n      }\n    },\n    openList: function openList(val) {\n      if (val == 1) {\n        this.$router.push({\n          path: '/other/act'\n        });\n      }\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["Process.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <span class=\"tit\">流程管理 / 总数 : {{ total }}</span>\r\n            <el-form :inline=\"true\" :model=\"query\">\r\n                <el-form-item>\r\n                    <el-input\r\n                        clearable\r\n                        v-model=\"query.username\"\r\n                        placeholder=\"关键字\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        size=\"medium\"\r\n                        v-on:click=\"getModelPage()\"\r\n                        icon=\"el-icon-search\"\r\n                    >搜索</el-button\r\n                    >\r\n                </el-form-item>\r\n            </el-form>\r\n            <el-radio-group v-model=\"listType\" style=\"float: right;\" @change=\"openList\">\r\n                <el-radio-button label=\"1\">模型管理</el-radio-button>\r\n                <el-radio-button label=\"2\">流程管理</el-radio-button>\r\n            </el-radio-group>\r\n        </div>\r\n        <el-table\r\n            :data=\"list\"\r\n            stripe\r\n            border\r\n            v-loading=\"listLoading\"\r\n            style=\"width: 100%;\"\r\n        >\r\n            <el-table-column\r\n                prop=\"deploymentId\"\r\n                min-width=\"120\"\r\n                label=\"流程ID\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n                prop=\"key\"\r\n                min-width=\"120\"\r\n                label=\"流程标识\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n                prop=\"category\"\r\n                min-width=\"120\"\r\n                label=\"流程分类\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n                prop=\"name\"\r\n                min-width=\"120\"\r\n                label=\"流程名称\"\r\n            ></el-table-column>\r\n            <el-table-column label=\"操作\" min-width=\"240\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button\r\n                        type=\"success\"\r\n                        size=\"mini\"\r\n                        @click.native=\"handleImage(scope.row)\">流程图</el-button >\r\n                    <el-button\r\n                        size=\"mini\"\r\n                        type=\"danger\"\r\n                        @click.native=\"handleDel(scope.$index, scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination\r\n            class=\"right\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"query.current\"\r\n            :page-sizes=\"[10, 20, 50, 100]\"\r\n            :page-size=\"query.size\"\r\n            layout=\"total, sizes, prev, pager, next\"\r\n            :total=\"total\"\r\n        >\r\n        </el-pagination>\r\n\r\n        <el-dialog\r\n            title=\"流程图\"\r\n            @click=\"dialogVisible = true\"\r\n            :visible.sync=\"dialogVisible\">\r\n            <el-image :src=\"processImageUrl\"></el-image>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import { getProcessPage, delProcess } from \"../../api/other/process.js\";\r\n    import { mapGetters } from \"vuex\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                query: {\r\n                    current: 1,\r\n                    size: 10\r\n                },\r\n                listType: '2',\r\n                dialogVisible: false,\r\n                pages: 0,\r\n                total: 0,\r\n                listLoading: false,\r\n                list: [],\r\n                processImageUrl: null,\r\n            };\r\n        },\r\n        created() {\r\n            this.getProcessPage();\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"permissions\"])\r\n        },\r\n        methods: {\r\n            getProcessPage() {\r\n                this.loading = true;\r\n                getProcessPage(this.query)\r\n                    .then(response => {\r\n                        this.loading = false;\r\n                        //console.log(response.data.data)\r\n                        this.total = response.data.data.total;\r\n                        this.query.current = response.data.data.current;\r\n                        this.query.size = response.data.data.size;\r\n                        this.list = response.data.data.records;\r\n                    })\r\n                    .catch(() => {\r\n                        this.loading = false;\r\n                    });\r\n            },\r\n            handleSizeChange(val) {\r\n                this.query.size = val;\r\n                this.getProcessPage();\r\n            },\r\n            handleCurrentChange(val) {\r\n                this.query.current = val;\r\n                this.getProcessPage();\r\n            },\r\n            handleImage(row) {\r\n                this.dialogVisible = true;\r\n                //this.processImageUrl = location.host + \"/act/process/resource/\"+row.deploymentId+\"/\"+row.processonDefinitionId+\"/image\"\r\n                this.processImageUrl = \"http://oa.dreamdeck.cn/act/process/resource/\"+row.deploymentId+\"/\"+row.processonDefinitionId+\"/image\"\r\n            },\r\n            // 删除\r\n            handleDel(index, row) {\r\n                if (row.id) {\r\n                    this.$confirm(\"确认删除 \" + row.name + \" 吗?\", \"提示\", {\r\n                        type: \"warning\"\r\n                    }).then(() => {\r\n                        delProcess(row.id).then(res => {\r\n                            console.log(res)\r\n                            this.getModelPage();\r\n                        });\r\n                    });\r\n                }\r\n            },\r\n            openList(val) {\r\n                if (val == 1) {\r\n                    this.$router.push({\r\n                        path: '/other/act'\r\n                    });\r\n                }\r\n            },\r\n        },\r\n        mounted() {}\r\n    };\r\n</script>\r\n<style type=\"text/scss\" lang=\"scss\" scoped>\r\n    .el-input .el-input__count .el-input__count-inner {\r\n        height: 50%;\r\n    }\r\n    @media (min-width: 600px) {\r\n        .zzz {\r\n            display: none;\r\n        }\r\n    }\r\n    .el-image img {\r\n        border-radius: 50%;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/other"}]}