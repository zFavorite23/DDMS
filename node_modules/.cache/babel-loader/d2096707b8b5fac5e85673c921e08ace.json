{"remainingRequest":"D:\\DDMS\\node_modules\\thread-loader\\dist\\cjs.js!D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js!D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\home\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\home\\main.vue","mtime":1591176787076},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.typed.uint8-array\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"D:\\\\DDMS\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getApplyStatistics as _getApplyStatistics, getCheckStatistics as _getCheckStatistics } from \"../../api/apply/statistics.js\";\nimport { getApplyPage as _getApplyPage, getApproverPage as _getApproverPage } from \"../../api/admin/msg.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      query: {\n        userId: null,\n        toUserId: null,\n        status: '',\n        current: 1,\n        size: 10\n      },\n      navItems: [{\n        title: '项目发布',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 1\n      }, {\n        title: '工时填报',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 2\n      }, {\n        title: '外出申请',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 3\n      }, // {\n      //     title: \"出差申请\",\n      //     check: \"0\",\n      //     agree: \"0\",\n      //     disagree: \"0\",\n      //     id: 4\n      // },\n      {\n        title: '请假申请',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 5\n      }, {\n        title: '未打卡申请',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 6\n      }, {\n        title: '报销申请',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 7\n      }, {\n        title: '支出申请',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 8\n      }, {\n        title: '开票申请',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 9\n      }],\n      tableDataL: [//{name: '报销',type: 'TEST',project: 'TEST',approver:'TEST',status:'TEST',id:1}\n      ],\n      navTotal: [{\n        title: '项目审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 1\n      }, {\n        title: '工时审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 2\n      }, {\n        title: '外出审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 3\n      }, // {\n      //     title: \"出差审批\",\n      //     check: \"0\",\n      //     agree: \"0\",\n      //     disagree: \"0\",\n      //     id: 4\n      // },\n      {\n        title: '请假审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 5\n      }, {\n        title: '未打卡审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 6\n      }, {\n        title: '报销审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 7\n      }, {\n        title: '支出审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 8\n      }, {\n        title: '开票审批',\n        check: '0',\n        agree: '0',\n        disagree: '0',\n        id: 9\n      }],\n      tableDataR: [// {name: '报销',type: 'TEST',project: 'TEST',approver:'TEST',status:'TEST',id:1}\n      ]\n    };\n  },\n  created: function created() {\n    window.localStorage.removeItem('editManhourInfo');\n    window.localStorage.removeItem('editGooutInfo'); //window.localStorage.removeItem(\"editBusinesstripInfo\");\n\n    window.localStorage.removeItem('editLeaveInfo');\n    window.localStorage.removeItem('editClockInfo');\n    window.localStorage.removeItem('editInvoiceInfo');\n    window.localStorage.removeItem('editExpenseInfo');\n    window.localStorage.removeItem('editReceiptInfo');\n    this.query.userId = this.userId;\n    this.query.toUserId = this.userId;\n    this.getApplyStatistics();\n    this.getCheckStatistics();\n    this.getApplyPage();\n    this.getApproverPage();\n  },\n  computed: _objectSpread({}, mapGetters(['permissions', 'userId'])),\n  methods: {\n    getApplyStatistics: function getApplyStatistics() {\n      var _this = this;\n\n      _getApplyStatistics(this.query.userId).then(function (response) {\n        var list = response.data.data;\n        list.forEach(function (item, index) {\n          _this.navItems[index].title = item.name;\n          _this.navItems[index].check = item.num0;\n          _this.navItems[index].agree = item.num1;\n          _this.navItems[index].disagree = item.num2;\n        });\n      }).catch(function () {});\n    },\n    getCheckStatistics: function getCheckStatistics() {\n      var _this2 = this;\n\n      _getCheckStatistics(this.query.userId).then(function (response) {\n        var list = response.data.data;\n        list.forEach(function (item, index) {\n          _this2.navTotal[index].title = item.name;\n          _this2.navTotal[index].check = item.num0;\n          _this2.navTotal[index].agree = item.num1;\n          _this2.navTotal[index].disagree = item.num2;\n        });\n      }).catch(function () {});\n    },\n    getApplyPage: function getApplyPage() {\n      var _this3 = this;\n\n      _getApplyPage(this.query).then(function (response) {\n        var list = response.data.data.records;\n        list.forEach(function (item, index) {\n          _this3.tableDataL.push({\n            msgType: item.msgType,\n            checkUserName: item.checkUserName,\n            status: item.status\n          });\n        });\n      }).catch(function () {});\n    },\n    getApproverPage: function getApproverPage() {\n      var _this4 = this;\n\n      _getApproverPage(this.query).then(function (response) {\n        var list = response.data.data.records;\n        console.log(list);\n        list.forEach(function (item, index) {\n          _this4.tableDataR.push({\n            toId: item.toId,\n            msgType: item.msgType,\n            applyUserName: item.applyUserName,\n            status: item.status\n          });\n        });\n      }).catch(function () {});\n    },\n    checkApplyInfo: function checkApplyInfo(row) {\n      if (row.msgType == '1') {\n        this.$router.push({\n          path: '/apply/manhour'\n        });\n      }\n\n      if (row.msgType == '2') {\n        this.$router.push({\n          path: '/apply/goout/info/' + row.toId\n        });\n      }\n\n      if (row.msgType == '3') {\n        this.$router.push({\n          path: '/apply/businesstrip/info/' + row.toId\n        });\n      }\n\n      if (row.msgType == '4') {\n        this.$router.push({\n          path: '/apply/leave/info/' + row.toId\n        });\n      }\n\n      if (row.msgType == '5') {\n        this.$router.push({\n          path: '/apply/clock/info/' + row.toId\n        });\n      } // 报销\n\n\n      if (row.msgType == '6') {\n        this.$router.push({\n          path: '/apply/invoice/info/' + row.toId\n        });\n      } //支出\n\n\n      if (row.msgType == '7') {\n        this.$router.push({\n          path: '/apply/expense/info/' + row.toId\n        });\n      } //开票\n\n\n      if (row.msgType == '8') {\n        this.$router.push({\n          path: '/apply/receipt/info/' + row.toId\n        });\n      }\n    },\n    applyAdd: function applyAdd(event) {\n      // var el = event.currentTarget.innerHTML;\n      var id = event.currentTarget.id;\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemForm'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout/form'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip/form\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave/form'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock/form'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice/form'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense/form'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt/form'\n        });\n      }\n    },\n    apply0: function apply0(event) {\n      var id = event.currentTarget.id;\n      console.log(id);\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover?status=0'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour?status=0'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout?status=0'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip?status=0\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave?status=0'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock?status=0'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice?status=0'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense?status=0'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt?status=0'\n        });\n      }\n    },\n    apply1: function apply1(event) {\n      var id = event.currentTarget.id;\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover?status=1'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour?status=1'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout?status=1'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip?status=1\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave?status=1'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock?status=1'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice?status=1'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense?status=1'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt?status=1'\n        });\n      }\n    },\n    apply2: function apply2(event) {\n      var id = event.currentTarget.id;\n      console.log(id);\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover?status=2'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour?status=2'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout?status=2'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip?status=2\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave?status=2'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock?status=2'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice?status=2'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense?status=2'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt?status=2'\n        });\n      }\n    },\n    checkList: function checkList(event) {\n      var id = event.currentTarget.id;\n      console.log(id);\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout/approver'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip/approver\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave/approver'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock/approver'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice/approver'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense/approver'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt/approver'\n        });\n      }\n    },\n    check0: function check0(event) {\n      var id = event.currentTarget.id;\n      console.log(id);\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover?status=0'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour/approver?status=0'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout/approver?status=0'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip/approver?status=0\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave/approver?status=0'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock/approver?status=0'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice/approver?status=0'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense/approver?status=0'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt/approver?status=0'\n        });\n      }\n    },\n    check1: function check1(event) {\n      var id = event.currentTarget.id;\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover?status=1'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour/approver?status=1'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout/approver?status=1'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip/approver?status=1\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave/approver?status=1'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock/approver?status=1'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice/approver?status=1'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense/approver?status=1'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt/approver?status=1'\n        });\n      }\n    },\n    check2: function check2(event) {\n      var id = event.currentTarget.id;\n      console.log(id);\n\n      if (id == 1) {\n        this.$router.push({\n          path: '/project/itemApprover?status=2'\n        });\n      } else if (id == 2) {\n        this.$router.push({\n          path: '/apply/manhour/approver?status=2'\n        });\n      } else if (id == 3) {\n        this.$router.push({\n          path: '/apply/goout/approver?status=2'\n        }); // } else if (id == 4) {\n        //     this.$router.push({\n        //         path: \"/apply/businesstrip/approver?status=2\"\n        //     });\n      } else if (id == 5) {\n        this.$router.push({\n          path: '/apply/leave/approver?status=2'\n        });\n      } else if (id == 6) {\n        this.$router.push({\n          path: '/apply/clock/approver?status=2'\n        });\n      } else if (id == 7) {\n        this.$router.push({\n          path: '/apply/invoice/approver?status=2'\n        });\n      } else if (id == 8) {\n        this.$router.push({\n          path: '/apply/expense/approver?status=2'\n        });\n      } else if (id == 9) {\n        this.$router.push({\n          path: '/apply/receipt/approver?status=2'\n        });\n      }\n    },\n    //   截取图片\n    setImage: function setImage() {\n      var that = this; //   event.preventDefault();\n\n      var canvas2 = document.createElement('canvas'); // let _canvas = document.getElementById('child');\n\n      var _canvas = document.getElementById('nodeBox');\n\n      var w = parseInt(window.getComputedStyle(_canvas).width);\n      var h = parseInt(window.getComputedStyle(_canvas).height); //将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了\n\n      canvas2.width = w * 4;\n      canvas2.height = h * 4;\n      canvas2.style.width = w + 'px';\n      canvas2.style.height = h + 'px'; //可以按照自己的需求，对context的参数修改,translate指的是偏移量\n      //  var context = canvas.getContext(\"2d\");\n      //  context.translate(0,0);\n\n      var context = canvas2.getContext('2d');\n      context.scale(2, 2); // html2canvas(document.getElementById('child'), {\n\n      html2canvas(document.getElementById('nodeBox'), {\n        canvas: canvas2\n      }).then(function (canvas) {\n        var blob = that.getBlob(canvas);\n        var oMyForm = new FormData();\n        var fileName = 'mobile' + '.jpg';\n        oMyForm.append('file', blob, fileName); //\t\t\t\toMyForm.append(\"fileName\", fileName);\n\n        oMyForm.append('fileType', 'image');\n        oMyForm.append('user_id', that);\n      });\n    },\n    getBlob: function getBlob(canvas) {\n      //获取blob对象\n      var data = canvas.toDataURL('image/jpeg', 1);\n      this.dataurl = data;\n      console.log(this.dataurl);\n      data = data.split(',')[1];\n      data = window.atob(data);\n      var ia = new Uint8Array(data.length);\n\n      for (var i = 0; i < data.length; i++) {\n        ia[i] = data.charCodeAt(i);\n      }\n\n      return new Blob([ia], {\n        type: 'image/jpeg'\n      });\n    }\n  }\n};",null]}