{"remainingRequest":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js!D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\checkwork\\All.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\checkwork\\All.vue","mtime":1588235430058},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"D:\\\\DDMS\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.regexp.to-string\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getPageList, getStatisticsUserId as _getStatisticsUserId } from \"../../api/checkwork/clock.js\";\nimport { getUserList as _getUserList } from \"../../api/admin/user.js\";\nimport { dateFormat } from \"../../utils/date.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      query: {\n        selectMonth: dateFormat(new Date()).substr(0, 7),\n        userId: \"\",\n        current: 1,\n        size: 10\n      },\n      userOptions: [],\n      expireTimeOption: {\n        disabledDate: function disabledDate(time) {\n          var date = new Date();\n          var year = date.getFullYear();\n          var month = date.getMonth() + 1;\n\n          if (month >= 1 && month <= 9) {\n            month = \"0\" + month;\n          }\n\n          var currentdate = year.toString() + month.toString();\n          var timeyear = time.getFullYear();\n          var timemonth = time.getMonth() + 1;\n\n          if (timemonth >= 1 && timemonth <= 9) {\n            timemonth = \"0\" + timemonth;\n          }\n\n          var timedate = timeyear.toString() + timemonth.toString();\n          return currentdate < timedate;\n        }\n      },\n      pages: 0,\n      total: 0,\n      listLoading: false,\n      list: [],\n      number: \"\",\n      checkTotal: [{\n        count: \"1\",\n        normal: \"1\",\n        late: \"1\",\n        early: \"1\",\n        no: \"1\",\n        over: \"1\",\n        business: \"1\",\n        leave: \"1\",\n        out: \"1\"\n      }],\n      userStatisticsInfo: {\n        userName: \"\"\n      }\n    };\n  },\n  created: function created() {\n    this.getClockList();\n    this.getUserList();\n    this.query.userId = this.userId; //this.getStatisticsUserId();\n  },\n  computed: _objectSpread({}, mapGetters([\"permissions\", \"userId\"])),\n  methods: {\n    open: function open() {},\n    getClockList: function getClockList() {\n      var _this = this;\n\n      this.listLoading = true;\n      getPageList(this.query).then(function (response) {\n        _this.listLoading = false;\n        _this.total = response.data.data.total;\n        _this.query.current = response.data.data.current;\n        _this.query.size = response.data.data.size;\n        _this.list = response.data.data.records;\n        console.log(_this.list); // this.getStatisticsUserId();\n      }).catch(function () {\n        _this.listLoading = false;\n      });\n    },\n    getStatisticsUserId: function getStatisticsUserId() {\n      var _this2 = this;\n\n      _getStatisticsUserId(this.query).then(function (response) {\n        _this2.userStatisticsInfo = response.data.data;\n        var a = _this2.userStatisticsInfo.normalNum == null ? +0 + +\" 次\" : _this2.userStatisticsInfo.normalNum + \" 次\";\n        var b = _this2.userStatisticsInfo.lateNum == null ? +0 + \" 次\" : _this2.userStatisticsInfo.lateNum + \" 次\";\n        var c = _this2.userStatisticsInfo.earlyNum == null ? +0 + \" 次\" : _this2.userStatisticsInfo.earlyNum + \" 次\";\n        var d = _this2.userStatisticsInfo.absenteeismNum == null ? +0 + \" 次\" : _this2.userStatisticsInfo.absenteeismNum + \" 次\";\n        var e = _this2.userStatisticsInfo.businesstripNum == null ? +0 + \" 天\" : _this2.userStatisticsInfo.businesstripNum + \" 天\";\n        var f = _this2.userStatisticsInfo.leaveNum == null ? +0 + \" 小时\" : _this2.userStatisticsInfo.leaveNum + \" 小时\";\n        var g = _this2.userStatisticsInfo.gooutNum == null ? +0 + \" 小时\" : _this2.userStatisticsInfo.gooutNum + \" 小时\";\n        content = [\"姓名：\" + _this2.userStatisticsInfo.userName, \"正常：\" + a, \"迟到：\" + b, \"早退：\" + c, \"旷工：\" + d, \"出差：\" + e, \"请假：\" + f, \"外出：\" + g];\n        console.log(content);\n        var content = content;\n        var newDatas = [];\n        var h = _this2.$createElement;\n\n        for (var i in content) {\n          newDatas.push(h(\"p\", null, content[i]));\n        }\n\n        _this2.$alert(h(\"div\", null, newDatas), \"当月小计\");\n      });\n    },\n    getUserList: function getUserList() {\n      var _this3 = this;\n\n      _getUserList().then(function (response) {\n        response.data.data.forEach(function (element) {\n          //console.log(element)\n          _this3.userOptions.push({\n            value: element.userId,\n            label: element.username\n          });\n        });\n      });\n    },\n    formatType: function formatType(row) {\n      return row.type == 1 ? \"上班\" : row.type == 2 ? \"下班\" : \"未知\";\n    },\n    // 单独处理时间的函数\n    dealDisabledDate: function dealDisabledDate(time) {\n      return time.getTime() >= Date.now();\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.query.size = val;\n      this.getClockList();\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.query.current = val;\n      this.getClockList();\n    }\n  },\n  mounted: function mounted() {}\n};",{"version":3,"sources":["All.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <span class=\"tit\">全部考勤</span>\r\n            <el-form :inline=\"true\" :model=\"query\">\r\n                <el-form-item>\r\n                    <el-select v-model=\"query.userId\" filterable placeholder=\"请选择\">\r\n                        <el-option\r\n                            v-for=\"item in userOptions\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\"\r\n                            :disabled=\"item.disabled\"\r\n                        >\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-date-picker\r\n                        v-model=\"query.selectMonth\"\r\n                        :picker-options=\"expireTimeOption\"\r\n                        type=\"month\"\r\n                        value-format=\"yyyy-MM\"\r\n                        format=\"yyyy 年 MM 月\"\r\n                        placeholder=\"选择月\"\r\n                    >\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button\r\n                        type=\"primary\"\r\n                        size=\"medium\"\r\n                        v-on:click=\"getClockList()\"\r\n                        icon=\"el-icon-search\"\r\n                        >搜索</el-button\r\n                    >\r\n                </el-form-item>\r\n                <el-form-item style=\"float: right;right: 0;position: absolute;\">\r\n                    <el-button type=\"primary\" @click=\"getStatisticsUserId\"\r\n                        >当月小计</el-button\r\n                    >\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n\r\n        <el-row>\r\n            <!--            <el-col  :xs=\"{span:24}\" :md=\"{span:15}\">-->\r\n            <el-table\r\n                :data=\"list\"\r\n                stripe\r\n                border\r\n                v-loading=\"listLoading\"\r\n                style=\"width: 100%;\"\r\n            >\r\n                <el-table-column\r\n                    prop=\"userName\"\r\n                    min-width=\"100\"\r\n                    label=\"姓名\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                    prop=\"day\"\r\n                    min-width=\"100\"\r\n                    label=\"日期\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                    prop=\"time\"\r\n                    min-width=\"80\"\r\n                    label=\"时间\"\r\n                ></el-table-column>\r\n                <el-table-column\r\n                    prop=\"type\"\r\n                    min-width=\"80\"\r\n                    label=\"类型\"\r\n                    :formatter=\"formatType\"\r\n                ></el-table-column>\r\n                <el-table-column prop=\"status\" min-width=\"100\" label=\"状态\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag v-if=\"scope.row.status == 0\" type=\"success\"\r\n                            >菜单</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 1\" type=\"\"\r\n                            >正常</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2\" type=\"danger\"\r\n                            >迟到</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 3\" type=\"danger\"\r\n                            >早退</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 4\" type=\"danger\"\r\n                            >旷工</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 10\" type=\"danger\"\r\n                            >请假</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 11\" type=\"success\"\r\n                            >外出</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 12\" type=\"success\"\r\n                            >出差</el-tag\r\n                        >\r\n\r\n                        <el-tag v-if=\"scope.row.status == 1930\" type=\"success\"\r\n                            >加班到19:30</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2000\" type=\"success\"\r\n                            >加班到20:00</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2030\" type=\"success\"\r\n                            >加班到20:30</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2100\" type=\"success\"\r\n                            >加班到21:00</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2130\" type=\"success\"\r\n                            >加班到21:30</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2200\" type=\"success\"\r\n                            >加班到22:00</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2230\" type=\"success\"\r\n                            >加班到22:30</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2300\" type=\"success\"\r\n                            >加班到23:00</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2330\" type=\"success\"\r\n                            >加班到23:30</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2400\" type=\"success\"\r\n                            >加班到00:00</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2430\" type=\"success\"\r\n                            >加班到00:30</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 2500\" type=\"success\"\r\n                            >加班到01:00</el-tag\r\n                        >\r\n\r\n                        <el-tag v-if=\"scope.row.status == 21\" type=\"warning\"\r\n                            >五分钟内第一次</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 22\" type=\"warning\"\r\n                            >五分钟内第二次</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 23\" type=\"warning\"\r\n                            >五分钟内第三次</el-tag\r\n                        >\r\n\r\n                        <el-tag v-if=\"scope.row.status == 101\" type=\"info\"\r\n                            >第一次未打卡</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 102\" type=\"info\"\r\n                            >第二次未打卡</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 103\" type=\"info\"\r\n                            >第三次未打卡</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 104\" type=\"info\"\r\n                            >第四次未打卡</el-tag\r\n                        >\r\n                        <el-tag v-if=\"scope.row.status == 105\" type=\"info\"\r\n                            >第五次未打卡</el-tag\r\n                        >\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"createTime\"\r\n                    min-width=\"160\"\r\n                    label=\"创建时间\"\r\n                ></el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                class=\"right\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"query.current\"\r\n                :page-sizes=\"[10, 20, 50, 100]\"\r\n                :page-size=\"query.size\"\r\n                layout=\"total, sizes, prev, pager, next\"\r\n                :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n            <!--            </el-col>-->\r\n            <!--            <el-col  :xs=\"{span:24}\" :md=\"{span:8}\" :offset=\"1\" style=\"border: 1px solid #DCDFE6;padding: 30px\">-->\r\n            <!--                <div style=\"color: #000;line-height: 40px\">-->\r\n            <!--                    <h3>当月小计</h3>-->\r\n            <!--                    <p>姓名：{{userStatisticsInfo.userName}}</p>-->\r\n            <!--                    <p>正常：{{userStatisticsInfo.normalNum}} 次</p>-->\r\n            <!--                    <p>迟到：{{userStatisticsInfo.lateNum}} 次</p>-->\r\n            <!--                    <p>早退：{{userStatisticsInfo.earlyNum}} 次</p>-->\r\n            <!--                    <p>旷工：{{userStatisticsInfo.absenteeismNum}} 次</p>-->\r\n            <!--                    <p>出差：{{userStatisticsInfo.businesstripNum}} 天</p>-->\r\n            <!--                    <p>请假：{{userStatisticsInfo.leaveNum}} 小时</p>-->\r\n            <!--                    <p>外出：{{userStatisticsInfo.gooutNum}} 小时</p>-->\r\n            <!--                </div>-->\r\n\r\n            <!--            </el-col>-->\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getPageList, getStatisticsUserId } from \"../../api/checkwork/clock.js\";\r\nimport { getUserList } from \"../../api/admin/user.js\";\r\nimport { dateFormat } from \"../../utils/date.js\";\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            query: {\r\n                selectMonth: dateFormat(new Date()).substr(0, 7),\r\n                userId: \"\",\r\n                current: 1,\r\n                size: 10\r\n            },\r\n            userOptions: [],\r\n            expireTimeOption: {\r\n                disabledDate: time => {\r\n                    var date = new Date();\r\n                    var year = date.getFullYear();\r\n                    var month = date.getMonth() + 1;\r\n                    if (month >= 1 && month <= 9) {\r\n                        month = \"0\" + month;\r\n                    }\r\n                    var currentdate = year.toString() + month.toString();\r\n                    var timeyear = time.getFullYear();\r\n                    var timemonth = time.getMonth() + 1;\r\n                    if (timemonth >= 1 && timemonth <= 9) {\r\n                        timemonth = \"0\" + timemonth;\r\n                    }\r\n                    var timedate = timeyear.toString() + timemonth.toString();\r\n                    return currentdate < timedate;\r\n                }\r\n            },\r\n            pages: 0,\r\n            total: 0,\r\n            listLoading: false,\r\n            list: [],\r\n            number: \"\",\r\n            checkTotal: [\r\n                {\r\n                    count: \"1\",\r\n                    normal: \"1\",\r\n                    late: \"1\",\r\n                    early: \"1\",\r\n                    no: \"1\",\r\n                    over: \"1\",\r\n                    business: \"1\",\r\n                    leave: \"1\",\r\n                    out: \"1\"\r\n                }\r\n            ],\r\n            userStatisticsInfo: {\r\n                userName: \"\"\r\n            }\r\n        };\r\n    },\r\n    created() {\r\n        this.getClockList();\r\n        this.getUserList();\r\n        this.query.userId = this.userId;\r\n        //this.getStatisticsUserId();\r\n    },\r\n    computed: {\r\n        ...mapGetters([\"permissions\", \"userId\"])\r\n    },\r\n    methods: {\r\n        open() {},\r\n        getClockList() {\r\n            this.listLoading = true;\r\n            getPageList(this.query)\r\n                .then(response => {\r\n                    this.listLoading = false;\r\n                    this.total = response.data.data.total;\r\n                    this.query.current = response.data.data.current;\r\n                    this.query.size = response.data.data.size;\r\n                    this.list = response.data.data.records;\r\n                    console.log(this.list);\r\n                    // this.getStatisticsUserId();\r\n                })\r\n                .catch(() => {\r\n                    this.listLoading = false;\r\n                });\r\n        },\r\n        getStatisticsUserId() {\r\n            getStatisticsUserId(this.query).then(response => {\r\n                this.userStatisticsInfo = response.data.data;\r\n\r\n                var a =\r\n                    this.userStatisticsInfo.normalNum == null\r\n                        ? +0 + +\" 次\"\r\n                        : this.userStatisticsInfo.normalNum + \" 次\";\r\n                var b =\r\n                    this.userStatisticsInfo.lateNum == null\r\n                        ? +0 + \" 次\"\r\n                        : this.userStatisticsInfo.lateNum + \" 次\";\r\n                var c =\r\n                    this.userStatisticsInfo.earlyNum == null\r\n                        ? +0 + \" 次\"\r\n                        : this.userStatisticsInfo.earlyNum + \" 次\";\r\n                var d =\r\n                    this.userStatisticsInfo.absenteeismNum == null\r\n                        ? +0 + \" 次\"\r\n                        : this.userStatisticsInfo.absenteeismNum + \" 次\";\r\n                var e =\r\n                    this.userStatisticsInfo.businesstripNum == null\r\n                        ? +0 + \" 天\"\r\n                        : this.userStatisticsInfo.businesstripNum + \" 天\";\r\n                var f =\r\n                    this.userStatisticsInfo.leaveNum == null\r\n                        ? +0 + \" 小时\"\r\n                        : this.userStatisticsInfo.leaveNum + \" 小时\";\r\n                var g =\r\n                    this.userStatisticsInfo.gooutNum == null\r\n                        ? +0 + \" 小时\"\r\n                        : this.userStatisticsInfo.gooutNum + \" 小时\";\r\n                content = [\r\n                    \"姓名：\" + this.userStatisticsInfo.userName,\r\n                    \"正常：\" + a,\r\n                    \"迟到：\" + b,\r\n                    \"早退：\" + c,\r\n                    \"旷工：\" + d,\r\n                    \"出差：\" + e,\r\n                    \"请假：\" + f,\r\n                    \"外出：\" + g\r\n                ];\r\n                console.log(content);\r\n                let content = content;\r\n                let newDatas = [];\r\n                const h = this.$createElement;\r\n                for (let i in content) {\r\n                    newDatas.push(h(\"p\", null, content[i]));\r\n                }\r\n                this.$alert(h(\"div\", null, newDatas), \"当月小计\");\r\n            });\r\n        },\r\n        getUserList() {\r\n            getUserList().then(response => {\r\n                response.data.data.forEach(element => {\r\n                    //console.log(element)\r\n                    this.userOptions.push({\r\n                        value: element.userId,\r\n                        label: element.username\r\n                    });\r\n                });\r\n            });\r\n        },\r\n        formatType: function(row) {\r\n            return row.type == 1 ? \"上班\" : row.type == 2 ? \"下班\" : \"未知\";\r\n        },\r\n        // 单独处理时间的函数\r\n        dealDisabledDate(time) {\r\n            return time.getTime() >= Date.now();\r\n        },\r\n        handleSizeChange(val) {\r\n            this.query.size = val;\r\n            this.getClockList();\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.query.current = val;\r\n            this.getClockList();\r\n        }\r\n    },\r\n    mounted() {}\r\n};\r\n</script>\r\n<style type=\"text/scss\" lang=\"scss\"></style>\r\n"],"sourceRoot":"src/views/checkwork"}]}