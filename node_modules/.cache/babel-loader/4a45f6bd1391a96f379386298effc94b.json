{"remainingRequest":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js!D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DDMS\\src\\views\\ability\\dept\\Info.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DDMS\\src\\views\\ability\\dept\\Info.vue","mtime":1588235430039},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DDMS\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"D:\\\\DDMS\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getDeptInfo as _getDeptInfo } from \"../../../api/admin/dept.js\";\nimport { getDeptUserList as _getDeptUserList } from \"../../../api/admin/user.js\";\nimport { getHourRadixDeptBySum as _getHourRadixDeptBySum } from \"../../../api/checkwork/hour.js\";\nimport { dateFormat } from \"../../../utils/date.js\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      query: {\n        userId: null,\n        deptId: null\n      },\n      deptName: \"\",\n      userName: \"\",\n      userList: [],\n      avgNum: \"\",\n      ranking: \"\"\n    };\n  },\n  computed: _objectSpread({}, mapGetters([\"permissions\", \"userId\", \"deptId\"])),\n  created: function created() {\n    this.query.deptId = this.deptId;\n    this.query.userId = this.userId;\n    this.getDeptInfo();\n    this.getDeptUserList();\n    this.getHourRadixDeptBySum();\n  },\n  mounted: function mounted() {},\n  methods: {\n    getDeptInfo: function getDeptInfo() {\n      var _this = this;\n\n      _getDeptInfo(this.query.deptId).then(function (response) {\n        _this.deptName = response.data.data.deptName;\n        _this.userName = response.data.data.userName;\n      });\n    },\n    getDeptUserList: function getDeptUserList() {\n      var _this2 = this;\n\n      _getDeptUserList(this.query.deptId).then(function (response) {\n        _this2.userList = response.data.data;\n      });\n    },\n    getHourRadixDeptBySum: function getHourRadixDeptBySum() {\n      var _this3 = this;\n\n      _getHourRadixDeptBySum(this.query).then(function (response) {\n        response.data.data.forEach(function (item, index) {\n          if (item.deptId == _this3.deptId) {\n            console.log(item);\n            _this3.avgNum = item.avgNum;\n            _this3.ranking = index + 1;\n          }\n        });\n      });\n    }\n  }\n};",{"version":3,"sources":["Info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,SAAA,WAAA,IAAA,YAAA;AACA,SAAA,eAAA,IAAA,gBAAA;AACA,SAAA,qBAAA,IAAA,sBAAA;AACA,SAAA,UAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,MAAA,EAAA,IADA;AAEA,QAAA,MAAA,EAAA;AAFA,OADA;AAKA,MAAA,QAAA,EAAA,EALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,QAAA,EAAA,EAPA;AAQA,MAAA,MAAA,EAAA,EARA;AASA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAbA;AAcA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,aAAA,EAAA,QAAA,EAAA,QAAA,CAAA,CADA,CAdA;AAiBA,EAAA,OAjBA,qBAiBA;AACA,SAAA,KAAA,CAAA,MAAA,GAAA,KAAA,MAAA;AACA,SAAA,KAAA,CAAA,MAAA,GAAA,KAAA,MAAA;AACA,SAAA,WAAA;AACA,SAAA,eAAA;AAEA,SAAA,qBAAA;AAEA,GAzBA;AA0BA,EAAA,OA1BA,qBA0BA,CAAA,CA1BA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,MAAA,YAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,eARA,6BAQA;AAAA;;AACA,MAAA,gBAAA,CAAA,KAAA,KAAA,CAAA,MAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAHA;AAIA,KAbA;AAcA,IAAA,qBAdA,mCAcA;AAAA;;AACA,MAAA,sBAAA,CAAA,KAAA,KAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,cAAA,IAAA,CAAA,MAAA,IAAA,MAAA,CAAA,MAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,YAAA,MAAA,CAAA,MAAA,GAAA,IAAA,CAAA,MAAA;AACA,YAAA,MAAA,CAAA,OAAA,GAAA,KAAA,GAAA,CAAA;AACA;AACA,SANA;AAOA,OATA;AAUA;AAzBA;AA3BA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"30\">\r\n            <el-col :span=\"8\" style=\"color: #000000;font-size: 1.2rem;line-height: 2.2rem;text-align: right;\">\r\n                <p>部门名称：</p>\r\n                <p>部门负责人：</p>\r\n                <p>成员：</p>\r\n                <p>部门平均工时率：</p>\r\n                <p>部门平均工时率公司排行：</p>\r\n                <p>部门人效kpi+趋势：</p>\r\n            </el-col>\r\n            <el-col :span=\"12\" style=\"color: #000000;font-size: 1rem;line-height: 2.2rem;\">\r\n                <p>{{deptName}}</p>\r\n                <p>{{userName}}</p>\r\n                <p>\r\n                    <span\r\n                        v-for=\"item in userList\"\r\n                        :key=\"item.userId\"\r\n                        style=\"margin-right: 5px;\">\r\n                        {{item.username}}\r\n                    </span>\r\n                </p>\r\n                <p>{{avgNum}} 小时</p>\r\n                <p>第 {{ranking}} 名</p>\r\n                <p></p>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { getDeptInfo } from \"../../../api/admin/dept.js\";\r\n    import { getDeptUserList } from \"../../../api/admin/user.js\";\r\n    import { getHourRadixDeptBySum } from \"../../../api/checkwork/hour.js\";\r\n    import { dateFormat } from \"../../../utils/date.js\";\r\n    import { mapGetters } from \"vuex\";\r\n    export default {\r\n        data() {\r\n            return {\r\n                query: {\r\n                    userId: null,\r\n                    deptId: null\r\n                },\r\n                deptName: \"\",\r\n                userName: \"\",\r\n                userList: [],\r\n                avgNum: \"\",\r\n                ranking: \"\",\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"permissions\", \"userId\", \"deptId\"])\r\n        },\r\n        created() {\r\n            this.query.deptId = this.deptId;\r\n            this.query.userId = this.userId;\r\n            this.getDeptInfo();\r\n            this.getDeptUserList();\r\n\r\n            this.getHourRadixDeptBySum();\r\n\r\n        },\r\n        mounted() {},\r\n        methods: {\r\n            getDeptInfo() {\r\n                getDeptInfo(this.query.deptId)\r\n                    .then(response => {\r\n                        this.deptName = response.data.data.deptName;\r\n                        this.userName = response.data.data.userName;\r\n                    })\r\n            },\r\n            getDeptUserList() {\r\n                getDeptUserList(this.query.deptId)\r\n                    .then(response => {\r\n                        this.userList = response.data.data;\r\n                    })\r\n            },\r\n            getHourRadixDeptBySum() {\r\n                getHourRadixDeptBySum(this.query)\r\n                    .then(response => {\r\n                        response.data.data.forEach((item, index) => {\r\n                            if (item.deptId == this.deptId){\r\n                                console.log(item)\r\n                                this.avgNum = item.avgNum;\r\n                                this.ranking = index + 1;\r\n                            }\r\n                        })\r\n                    })\r\n            }\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/ability/dept"}]}